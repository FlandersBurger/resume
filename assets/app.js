angular.module("app",["ui.router","ui.bootstrap","ngAnimate","ngSanitize","ngDragDrop","vcRecaptcha","chart.js"]),angular.module("app").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){t.otherwise("/home"),e.state("home",{url:"/home",templateUrl:"/home.html"}).state("policy",{url:"/policy",templateUrl:"/policy.html"}).state("print",{url:"/print",templateUrl:"/print.html"}).state("experience",{url:"/experience",controller:"ExperienceCtrl",templateUrl:"/experience.html"}).state("skills",{url:"/skills",controller:"SkillsCtrl",templateUrl:"/skills.html"}).state("hobbies",{url:"/hobbies",controller:"HobbiesCtrl",templateUrl:"/hobbies.html"}).state("contact",{url:"/contact",controller:"ContactCtrl",templateUrl:"/contact.html"}).state("workout",{url:"/workout",controller:"WorkoutCtrl",templateUrl:"/workout.html"}).state("top-priority",{url:"/top-priority",controller:"TopPriorityCtrl",templateUrl:"/top-priority.html"}).state("posts",{url:"/posts",controller:"PostsCtrl",templateUrl:"/posts.html"}).state("profile",{url:"/profile",controller:"ProfileCtrl",templateUrl:"/profile.html"}),n.html5Mode({enabled:!0,requireBase:!1})}]),angular.module("app").service("WebSocketSvc",["$rootScope","$timeout",function(n,t){var o,a=function(){(o=new WebSocket("https:"===window.location.protocol?"wss://"+window.location.host:"ws://"+window.location.host)).onopen=function(){console.log("Websocket connected")},o.onclose=function(e){console.log("Websocket closed. Reconnecting..."),t(a,1e3)},o.onerror=function(e){console.log("Error: "+e+" - State: "+o.readyState)},o.onmessage=function(e){var t=JSON.parse(e.data);n.$broadcast("ws:"+t.topic,t.data)}};this.send=function(e,t){var n=JSON.stringify({topic:e,data:t});o.send(n)},this.connect=a}]).run(["WebSocketSvc",function(e){e.connect()}]),angular.module("app").controller("AppCtrl",["$scope","$location","LanguageSvc","UserSvc",function(n,e,t,o){console.log("%cYou sneaky bugger!","font: 2em sans-serif; color: DodgerBlue; text-shadow: 2px 0 0 #444, -2px 0 0 #444, 0 2px 0 #444, 0 -2px 0 #444, 1px 1px #444, -1px -1px 0 #444, 1px -1px 0 #444, -1px 1px 0 #444;"),console.log("I'm glad you're curious whether something is popping up in here. I'm a bit of a stickler when it comes to messages in the console so I try to make sure only things I want are visible. That being said, if there is a big error here, I would really appreciate you telling me so I can get rid of it!"),console.log("The code for my resume is hosted on Github if you really want to go into all this! => https://github.com/FlandersBurger/resume"),$(window).load(function(){$(".loading").fadeOut("slow"),$(".content").fadeIn("slow")}),n.themeCounter=6,n.today=new Date,n.year=n.today.getFullYear(),n.random=Math.floor(1e6*Math.random()),n.flipTheme=function(){$(".loading").show(),$(".content").hide(),setTimeout(function(){$(".loading").fadeOut("slow"),$(".content").fadeIn("slow")},800),n.themeCounter=n.themeCounter<6?n.themeCounter+1:n.themeCounter=1},$.getJSON("/skills.json",function(e){n.skills=e.filter(function(e){return e.enabled})}),$.getJSON("/hobbies.json",function(e){n.hobbies=e}),$.getJSON("/experience.json",function(e){n.jobs=e,n.jobs.forEach(function(e){e.startDate=new Date(e.startDate),e.endDate&&(e.endDate=new Date(e.endDate))})}),n.getTimeSpan=function(e){return e.startDate.getFullYear()+(e.endDate?" - "+e.endDate.getFullYear():" - Today")},n.languages=t.languages,n.selectedLanguage=t.getLanguage(),n.selectLanguage=function(e){n.selectedLanguage=t.setLanguage(e)},n.hoverdiv=function(e,t){var n=e.clientX+"px",o=e.clientY+20+"px";document.getElementById(t);return $("#"+t).css("left",n),$("#"+t).css("top",o),$("#"+t).toggle(),!1},n.socialMedia=[{name:"linkedin",url:"https://www.linkedin.com/in/laurent-debacker-1633a916",icon:"fa-linkedin"},{name:"github",url:"https://github.com/FlandersBurger",icon:"fa-github"},{name:"jsfiddle",url:"https://jsfiddle.net/user/BelgoCanadian/fiddles/",icon:"fa-jsfiddle"},{name:"stackoverflow",url:"http://stackoverflow.com/users/1083923/belgocanadian",icon:"fa-stack-overflow"}],console.log(window.localStorage.user),window.localStorage.user&&o.login(window.localStorage.user).then(function(e){n.loggedIn=!0,n.currentUser=e.data}),n.$on("login",function(e,t){window.localStorage.user=t._id,n.loggedIn=!0,n.currentUser=t}),n.$on("update",function(e,t){n.currentUser=t,n.currentUser.birthDate=new Date(n.currentUser.birthDate)}),n.logout=function(){firebase.auth().signOut().then(function(){n.loggedIn=!1,window.localStorage.clear(),n.$broadcast("logout")}).catch(function(e){})}}]),angular.module("app").controller("ContactCtrl",["$scope","EmailSvc",function(t,e){t.options=[{name:"Spam",text:"I am a spam bot and automatically check the first option I find!"},{name:"Opportunitiy",text:"You seem to have the skills I seek, I'd like to talk about some opportunities."},{name:"Resume",text:"I dig the resume, how did you make it?"},{name:"Other",text:"Sumtin else!"}],t.contact={email:"",name:"",phone:"",about:"",message:""},t.send=function(){t.sending=!0,console.log("here"),e.send({email:t.contact.email,name:t.contact.name,phone:t.contact.phone,about:t.contact.about,message:t.contact.message}).then(function(e){t.sent=!0,console.log("SUCCESS. status=%d, text=%s",e.status,e.text),console.log(e)},function(e){t.sending=!1,console.log("FAILED. error=",e)})}}]),angular.module("app").controller("ExperienceCtrl",["$scope",function(e){e.getSkill=function(t){if(e.skills)return e.skills.find(function(e){return e.code===t})}}]),angular.module("app").controller("HobbiesCtrl",["$scope","$window",function(t,e){t.hobbySelectorVisible=!1,$.getJSON("https://www.reddit.com/user/belgocanadian/about/.json",function(e){}),t.selectedHobby=t.hobbies[0],t.selectHobby=function(e){t.selectedHobby=e,t.hobbySelectorVisible=!1},t.showHobby=function(e,t,n){return!!e.images&&0<e.images.length}}]),angular.module("app").controller("ListsCtrl",["$scope","$location","CategoriesSvc",function(o,e,a){o.showCategory=!0,o.init=function(){a.getCategories().success(function(e){o.categories=e,o.tasks=[];for(var t=0;t<o.categories.length;t++)for(var n=0;n<o.categories[t].tasks.length;n++)o.tasks.push({category:o.categories[t].name,task:o.categories[t].tasks[n].name})})},o.selectCategory=function(e){o.selectedCategory=e,o.selectedTasks=[],o.selectableTasks=[];for(var t=0;t<o.selectedCategory.tasks.length;t++)o.selectableTasks.push(o.selectedCategory.tasks[t]);o.showCategory=!1,o.enteredCategory=null},o.newCategory=function(e){for(var t=!1,n=0;n<o.categories.length;n++)o.categories[n].name===e&&(o.selectCategory(o.categories[n]),t=!0);t||a.addCategory({category:e}).success(function(e){o.init(),o.selectCategory(e)}),o.enteredCategory=null},o.newTask=function(e){for(var t=!1,n=0;n<o.selectedCategory.tasks.length;n++)o.selectedCategory.tasks[n].name===e&&(t=!0,o.selectTask(o.selectedCategory.tasks[n]));t||a.addTask(o.selectedCategory.name,{task:e}).success(function(){o.selectedCategory.tasks.push({name:e}),o.addTask(o.selectedTasks,o.selectedCategory.tasks[o.selectedCategory.tasks.length-1])}),o.enteredTask=null},o.selectTask=function(e){o.addTask(o.selectedTasks,e),o.removeTask(o.selectableTasks,e),o.enteredTask=null},o.unselectTask=function(e){o.addTask(o.selectableTasks,e),o.removeTask(o.selectedTasks,e)},o.addTask=function(e,t){e.push(t)},o.removeTask=function(e,t){e.splice(e.indexOf(t),1)},o.startPrioritizing=function(){a.setPriorityList(o.selectedTasks),e.path("/prioritize")},o.getQuestions=function(){if(!o.selectedTasks)return"";for(var e=0,t=o.selectedTasks.length-1;0<t;t--)e+=t;return e}}]),angular.module("app").controller("LoginCtrl",["$scope","$location","UserSvc",function(o,a,r){var t=new firebaseui.auth.AuthUI(firebase.auth());function n(){t.start("#firebaseui-auth-container",{callbacks:{signInSuccess:function(t,e,n){return firebase.auth().currentUser.getIdToken(!0).then(function(e){r.authenticate({displayName:t.displayName,email:t.email,photoURL:t.photoURL,emailVerified:t.emailVerified,idToken:e}).then(function(e){o.$emit("login",e.data),$("#modal-login").modal("hide"),a.path("/")},function(){o.$emit("popup",{message:"Login Failed",type:"alert-danger"})})}).catch(function(e){}),!1},signInFailure:function(e){if("firebaseui/anonymous-upgrade-merge-conflict"!=e.code)return Promise.resolve();var t=e.credential;return firebase.auth().signInWithCredential(t)},uiShown:function(){document.getElementById("loader").style.display="none"}},signInSuccessUrl:"/home",signInOptions:[firebase.auth.GoogleAuthProvider.PROVIDER_ID,firebase.auth.FacebookAuthProvider.PROVIDER_ID],signInFlow:"popup"})}o.$on("logout",function(e){t.reset(),n()}),n()}]),angular.module("app").controller("PostsCtrl",["$scope","$filter","PostsSvc",function(n,e,o){n.addPost=function(){n.postBody&&o.create({body:n.postBody}).success(function(e){n.postBody=null})},o.fetch().success(function(e){n.posts=e,n.filteredPosts=e}),n.$on("ws:new_post",function(e,t){n.$apply(function(){o.getPost(t).then(function(e){n.posts.unshift(e.data)})})})}]),angular.module("app").controller("ProfileCtrl",["$scope","$location","UserSvc",function(r,e,s){r.currentUser?($("#sex-indicator").offset({left:r.currentUser.gender.sex/200*$("#sex").width()+$("#sex").offset().left}),$("#identity-indicator").offset({left:r.currentUser.gender.identity/200*$("#identity").width()+$("#identity").offset().left})):e.path("/"),r.dateOptions={maxDate:new Date,minDate:new Date("1900-01-01")},r.sex=function(e){var t=["Male","FtM Male","Intersex","MtF Female","Female"];return t[Math.round(e/200*(t.length-1))]},r.identity=function(e){var t=["Man","Bigender","Pangender","Agender","Polygender","Genderfluid","Genderqueer","Queer","Woman"];return t[Math.round(e/200*(t.length-1))]},r.startSlider=function(){},r.dragSlider=function(e,t,n){r.currentUser.gender[n]=Math.round(($("#"+n+"-indicator").offset().left-$("#"+n).offset().left)/($("#"+n).width()-$("#"+n+"-indicator").width())*200),r.$apply()},r.stopSlider=function(){},r.usernameToggle=!0,r.passwordToggle=!0,r.toggleUsername=function(){r.usernameToggle=!r.usernameToggle,r.newUsername=r.currentUser.username},r.togglePassword=function(){r.newPassword=null,r.confirmPassword=null,r.passwordToggle=!r.passwordToggle},r.checkPassword=function(e){if(e){var t=r.currentUser._id;s.checkPassword(t,e).then(function(e){r.togglePassword()},function(){var e=$(".password").css("backgroundColor");$(".password").animate({backgroundColor:"#FFB6C1"},200).animate({backgroundColor:e},200)})}},r.changePassword=function(e,t,n){if(t)if(t==n){var o=r.currentUser._id;s.changePassword(o,e,t).then(function(e){r.$emit("popup",{message:"Password Changed",type:"alert-success"}),r.oldPassword=null,r.togglePassword()},function(){r.$emit("popup",{message:"Password Change Failed",type:"alert-danger"})})}else{var a=$(".password").css("backgroundColor");$(".password").animate({backgroundColor:"#FFB6C1"},200).animate({backgroundColor:a},200)}},r.changeUsername=function(t){s.changeUsername(r.currentUser._id,t).then(function(e){r.$emit("popup",{message:"Username changed to "+t,type:"alert-success"}),r.currentUser.username=t},function(e){r.$emit("popup",{message:t+" already in use",type:"alert-danger"})})},r.updateUser=function(){s.updateUser(r.currentUser).then(function(e){r.$emit("update",e.data),r.$emit("popup",{message:"Profile updated",type:"alert-success"})})}}]),angular.module("app").controller("SkillsCtrl",["$scope","$window",function(t,e){t.selectedSkill=0,t.skillsVisible=!1,t.labels=["Download Sales","In-Store Sales","Mail-Order Sales"],t.data=[300,500,100],$.getJSON("/skills.json",function(e){t.skills=e.filter(function(e){return e.enabled}),t.setSelectedSkill=function(e){t.selectedSkill=e,t.selectedSkill.chartOptions={cutoutPercentage:80,circumference:2*Math.PI,maintainAspectRatio:!0,tooltips:{enabled:!1}},t.selectedSkill.chartStyle={"background-image":"url(/skills/"+t.selectedSkill.image+")","background-repeat":"no-repeat","background-size":"60%","background-position":"50% 50%"}},t.setSelectedSkill(t.skills[0]),t.$apply()})}]),angular.module("app").controller("TopPriorityCtrl",["$scope",function(a){var r,o,p,g=[],s=[],h=800,f=400,m=8,k=4;function n(e){this.score=0,this.name=e,this.choose=function(){this.score++}}function t(e){for(var t in this.tasks=[],e)this.tasks[t]=new n(e[t].item);this.choose=function(e){for(var t in this.tasks)this.tasks[t].name==e&&this.tasks[t].choose()}}function e(e,t){this.avatar=[e,t],this.name="",this.tasks=[],this.setTasks=function(e){for(var t=0;t<e.length;t++)this.tasks[t]=new n(e[t].name)},this.choose=function(e){for(var t in this.tasks)this.tasks[t].name==e&&this.tasks[t].choose()},this.score=function(e){for(var t in this.tasks)if(this.tasks[t].name==e)return this.tasks[t].score}}function i(){for(var e,t,n=!0;n;){n=!1,e=Math.floor(Math.random()*m),t=Math.floor(Math.random()*k);for(var o=0;o<g.length;o++)g[o].avatar[0]==e&&g[o].avatar[1]==t&&(n=!0)}l("#Avatar",e,t)}function l(e,t,n){$(e).css("background-position-x",h/m*-t),$(e).css("background-position-y",f/k*-n),s[0]=t,s[1]=n}a.defaultLists={blank:{caption:"Blank List",message:"What needs to be prioritized?",list:["","",""]},chores:{caption:"Chores",message:"What chores need to be done?",list:["Laundry","Dishes","Sweeping","Groceries","Tidy"]},restaurants:{caption:"Restaurants",message:"What do you want to eat?",list:["Chinese","Japanese","American","Indian","Greek","Italian","Korean","Thai","Vietnamese","Mexican"]},pokemon:{caption:"Pokemon",message:"Which do you gotta catch?",list:["Pikachu","Squirtle","Charmander","Bulbasaur","Pidgeotto","Snorlax"]},genres:{caption:"Movie Genres",message:"What shall we watch tonight?",list:["Comedy","Drama","Thriller","Action","Horror","Animated","Adventure","Documentary","Musical","Science Fiction"]}},a.list=[],a.choose_type=function(e){$("#TypeSection").hide(),a.list=a.defaultLists[e].list.map(function(e){return{item:e}}),$("#InputTitle").text(a.defaultLists[e].message),$("#InputSection").show()},a.removeListItem=function(e){a.list.splice(e,1)},a.addListItem=function(){a.list.push({item:""})},a.choose_avatar=function(){g[g.length]=new e(s[0],s[1]),g[g.length-1].setTasks(p.tasks),a.prioritize()},a.start=function(){a.list=a.list.filter(function(e){return e.item});var e=function(e){var t,n={};for(t in e){if(n[e[t].item])return e[t].item;n[e[t].item]=!0}return!0}(a.list);return a.list.length<2?(alert("Oi, there're 2 textboxes for a reason!"),a.choose_type("blank"),!1):!0!==e?(alert("Seems like you prefer "+e+"."),!1):($("#InputSection").hide(),g=[],p=new t(a.list),i(),$(".Top").slideDown("slow"),void $("#AvatarSection").fadeIn())},a.prioritize=function(){var e,t,n,o;for(o=0,n=p.tasks.length,r=[],$("#AvatarSection").hide(),e=0;e<n-1;e++)for(t=e+1;t<n;t++)r[o]=[],r[o][0]=p.tasks[e].name,r[o][1]=p.tasks[t].name,r[o][2]=0,o++;!function(e){var t,n,o=e.length;for(;0!==o;)n=Math.floor(Math.random()*o),t=e[o-=1],e[o]=e[n],e[n]=t}(r),a.new_choice(),$("#PrioritizeSection").fadeIn()},a.next_player=function(){$("#ResultSection").hide(),$("#btnMultiplayer").val("Final results"),i(),$("#AvatarSection").fadeIn()},a.multiplayer=function(){1===g.length?a.restart():a.final_results()},a.restart=function(){for($("#ResultSection").hide(),$("#FinalSection").hide(),$(".Top").slideUp(),$(".ListItem").val("");2<$(".ListItem").length;)$(".ListItem").last().parent().remove();$("#FinalResultList th").remove(),$("#FinalResultList tr").remove(),$("#btnMultiplayer").val("Restart"),$("#TypeSection").fadeIn(),$(".ListItem").first().focus()},a.new_choice=function(){var e,t;for(e=0;e<r.length;e++)if(0===r[e][2]){var n=Math.round(Math.random());return document.getElementById("choice1").value=r[e][n],document.getElementById("choice2").value=r[e][1-n],o=e,t=Math.round(100*e/r.length),$(".progress-bar").css("width",t+"%").attr("aria-valuenow",t),document.getElementById("ChoicesLeft").innerHTML=t+"%",!1}},a.choose=function(e){var t;p.choose(r[o][e]),g[g.length-1].choose(r[o][e]);var n=r[o][2]=1;for(t=0;t<r.length;t++)0===r[t][2]&&(n=0);1==n?function(){var e,t;for($(".progress-bar").css("width","100%").attr("aria-valuenow",100),document.getElementById("ChoicesLeft").innerHTML="100%",document.getElementById("ResultList").innerHTML="",$("#PrioritizeSection").hide(),t=g.length-1,g[t].tasks.sort(function(e,t){return t[0]-e[0]}),e=0;e<g[t].tasks.length;e++){var n=document.createElement("LI"),o=document.createTextNode(g[t].tasks[e].name+": "+g[t].tasks[e].score+" vote"+(1==g[t].tasks[e].score?"":"s"));n.appendChild(o),document.getElementById("ResultList").appendChild(n)}$("#ResultSection").fadeIn()}():a.new_choice()},a.final_results=function(){var e,t;$("#ResultSection").hide(),$(".Top").slideUp(),p.tasks.sort(function(e,t){return t[0]-e[0]});var n=document.createElement("THEAD"),o=document.createElement("TR");for(o.appendChild(document.createElement("TH")),e=0;e<g.length;e++){var a="th"+e,r=document.createElement("TH");r.setAttribute("id",a),r.style.backgroundImage="url('http://i.imgur.com/IcP5F1m.png')",r.style.width=50,r.style.height=65,r.style.backgroundPosition=-g[e].avatar[0]*(h/m)+"px "+-g[e].avatar[1]*(f/k)+"px",o.appendChild(r)}var s=document.createElement("TD");s.appendChild(document.createTextNode("Total")),s.style.height=65,o.appendChild(s),n.appendChild(o),document.getElementById("FinalResultList").appendChild(n);var i=document.createElement("TBODY");for(e=0;e<p.tasks.length;e++){var l=document.createElement("TR"),c=document.createElement("TD");for(c.appendChild(document.createTextNode(p.tasks[e].name)),l.appendChild(c),t=0;t<g.length;t++){var u=document.createElement("TD");u.appendChild(document.createTextNode(g[t].score(p.tasks[e].name))),l.appendChild(u)}var d=document.createElement("TD");d.appendChild(document.createTextNode(p.tasks[e].score)),l.appendChild(d),i.appendChild(l)}document.getElementById("FinalResultList").appendChild(i),$("#FinalSection").fadeIn()},$(document).ready(function(){$(".ListItem").first().focus(),$("#Avatars").click(function(e){$(this).offset();var t=document.getElementById("Avatars"),n=t.clientWidth,o=t.clientHeight,a=(e.pageX-$(this).offset().left)/n*h;a=Math.floor(a/(h/m));var r=(e.pageY-$(this).offset().top)/o*f;!function(e,t){for(var n=0;n<g.length;n++)if(g[n].avatar[0]==e&&g[n].avatar[1]==t)return alert("Copycat!"),i();l("#Avatar",e,t)}(a,r=Math.floor(r/(f/k)))})})}]),angular.module("app").controller("WorkoutCtrl",["$scope",function(n){n.timeRemaining=0;var o,a=[{name:"Jumping Jacks",split:n.rest=!1},{name:"Wall Sit",split:!1},{name:"Push-Up",split:!1},{name:"Crunch",split:!1},{name:"Step-Up",split:!0},{name:"Squat",split:!1},{name:"Triceps Dip",split:!1},{name:"Plank",split:!1},{name:"High Knees",split:!1},{name:"Lunge",split:!1},{name:"Push-Up with Rotation",split:!1},{name:"Side Plank",split:!0}];n.workout=function(){n.timeRemaining?(clearInterval(o),n.timer="",n.timeRemaining=0,n.rest=!1,n.exercise={name:"",split:!1}):(n.timeRemaining=45*a.length,o=setInterval(function(){if(n.timeRemaining--,0===n.timeRemaining)return n.exercise={name:"Finished! Congrats!",split:!1},n.timer="",n.timeRemaining=0,n.rest=!1,n.$apply(),clearInterval(o);var e=Math.floor(n.timeRemaining/45),t=n.timeRemaining-45*e;n.timer=30<t?t-30:t,n.rest=30<t,n.exercise=a[a.length-e-1],n.$apply()},1e3))}}]),angular.module("app").directive("head",["$rootScope","$state","$compile","$interpolate",function(n,s,o,a){var i=function(e){var t={href:e,rel:"stylesheet"};return t.href.match(/\.less$/)&&(t.rel="stylesheet/less"),t};return{restrict:"E",link:function(r,e){r.templateStyles=[];var t='<link ng-attr-rel="{{style.rel}}" ng-repeat="style in templateStyles" ng-href="{{style.href}}">';t=(t=t.replace(/\{\{/g,a.startSymbol())).replace(/\}\}/g,a.endSymbol()),e.append(o(t)(r)),n.$on("$stateChangeStart",function(e,t,n,o,a){r.templateStyles=function(e){for(var n={};""!==e.name;){var o=s.get("^",e);n[o.name]||(n[o.name]={}),e.templateStyleUrl&&(n[o.name][""]||(n[o.name][""]=i(e.templateStyleUrl))),e.views&&_.forEach(e.views,function(e,t){if(e.templateStyleUrl)return(t=t.split("@"))[1]?(n[t[1]]||(n[t[1]]={}),void(n[t[1]][t[0]]||(n[t[1]][t[0]]=i(e.templateStyleUrl)))):void(n[o.name][t[0]]=i(e.templateStyleUrl))}),e=o}var t=[];return _.forEach(n,function(e){_.forEach(e,function(e){_.includes(t,e)||t.push(e)})}),t.reverse(),t}(t)})}}}]),angular.module("app").service("CategoriesSvc",["$http",function(n){var a=this;a.getCategories=function(){return n.get("/api/categories")},a.getTasks=function(e){return n.get("/api/categories/"+e)},a.addCategory=function(e){return n.post("/api/categories/",e)},a.addTask=function(e,t){return n.post("/api/categories/"+e+"/tasks",t)},a.setPriorityList=function(e){a.choices=e,a.priorityList=[];for(var t=0;t<e.length;t++)for(var n=t+1;n<e.length;n++){var o=Math.round(Math.random());a.priorityList.push({id:0,firstChoice:e[0===o?t:n].name,secondChoice:e[0===o?n:t].name,choice:""})}!function(e){var t,n,o=e.length;for(;o;)n=Math.floor(Math.random()*o--),e[o].firstChoice,t=e[o],e[o]=e[n],e[n]=t}(a.priorityList);for(t=0;t<a.priorityList.length;t++)a.priorityList[t].id=t+1},a.getPriorityList=function(e){return a.priorityList}}]),angular.module("app").service("EmailSvc",["$http",function(t){this.send=function(e){return console.log(e),t.post("/api/email",e)}}]),angular.module("app").service("LanguageSvc",function(){var t=this;t.languages=[{code:"EN",name:"English",flag:"flag-icon-gb"},{code:"NL",name:"Nederlands",flag:"flag-icon-nl"},{code:"FR",name:"Français",flag:"flag-icon-fr"}],t.text=[{code:"EN"},{code:"NL"},{code:"FR"}],t.selectedLanguage=t.languages[0],t.setLanguage=function(e){return t.selectedLanguage=e},t.getLanguage=function(){return t.selectedLanguage}}),angular.module("app").service("PostsSvc",["$http",function(t){this.fetch=function(){return t.get("/api/posts")},this.create=function(e){return t.post("/api/posts",e)},this.getPost=function(e){return t.get("/api/posts/"+e._id)}}]),angular.module("app").service("UserSvc",["$http",function(o){var n=this;n.getUser=function(){return o.get("/api/users")},n.setToken=function(e){return o.defaults.headers.common["X-Auth"]=e,n.getUser()},n.authenticate=function(e){return o.post("/api/users/authenticate",{user:e}).then(function(e){return window.localStorage.token=e.data,n.setToken(e.data)})},n.login=function(e){return o.get("/api/users/"+e+"/login").then(function(e){return window.localStorage.token=e.data,n.setToken(e.data)})},n.updateUser=function(e){return o.post("/api/users/"+e._id,{user:e}).then(function(){return n.getUser()})},n.checkPassword=function(e,t){return o.post("/api/users/"+e+"/verification",{password:t})},n.changePassword=function(e,t,n){return o.post("/api/users/"+e+"/password",{oldPassword:t,newPassword:n})},n.changeUsername=function(e,t){return o.post("/api/users/"+e+"/username",{newUsername:t})},n.logout=function(){window.localStorage.clear(),o.defaults.headers.common["X-Auth"]=""},n.createUser=function(e,t){return o.post("/api/users",{username:e,password:t}).then(function(){return n.login(e,t)})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsInJvdXRlcy5qcyIsIndlYnNvY2tldHMuanMiLCJjb250cm9sbGVycy9hcHAuY3RybC5qcyIsImNvbnRyb2xsZXJzL2NvbnRhY3QuY3RybC5qcyIsImNvbnRyb2xsZXJzL2V4cGVyaWVuY2UuY3RybC5qcyIsImNvbnRyb2xsZXJzL2hvYmJpZXMuY3RybC5qcyIsImNvbnRyb2xsZXJzL2xpc3RzLmN0cmwuanMiLCJjb250cm9sbGVycy9sb2dpbi5jdHJsLmpzIiwiY29udHJvbGxlcnMvcG9zdHMuY3RybC5qcyIsImNvbnRyb2xsZXJzL3Byb2ZpbGUuY3RybC5qcyIsImNvbnRyb2xsZXJzL3NraWxscy5jdHJsLmpzIiwiY29udHJvbGxlcnMvdG9wLXByaW9yaXR5LmN0cmwuanMiLCJjb250cm9sbGVycy93b3Jrb3V0LmN0cmwuanMiLCJkaXJlY3RpdmVzL3VpLXJvdXRlci1zdHlsZXMuZGlyLmpzIiwic2VydmljZXMvY2F0ZWdvcmllcy5zdmMuanMiLCJzZXJ2aWNlcy9lbWFpbC5zdmMuanMiLCJzZXJ2aWNlcy9sYW5ndWFnZS5zdmMuanMiLCJzZXJ2aWNlcy9wb3N0cy5zdmMuanMiLCJzZXJ2aWNlcy91c2VyLnN2Yy5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiaHRtbDVNb2RlIiwiZW5hYmxlZCIsInJlcXVpcmVCYXNlIiwic2VydmljZSIsIiRyb290U2NvcGUiLCIkdGltZW91dCIsImNvbm5lY3Rpb24iLCJjb25uZWN0IiwiV2ViU29ja2V0Iiwid2luZG93IiwibG9jYXRpb24iLCJwcm90b2NvbCIsImhvc3QiLCJvbm9wZW4iLCJjb25zb2xlIiwibG9nIiwib25jbG9zZSIsImUiLCJvbmVycm9yIiwicmVhZHlTdGF0ZSIsIm9ubWVzc2FnZSIsInBheWxvYWQiLCJKU09OIiwicGFyc2UiLCJkYXRhIiwiJGJyb2FkY2FzdCIsInRvcGljIiwidGhpcyIsInNlbmQiLCJqc29uIiwic3RyaW5naWZ5IiwicnVuIiwiV2ViU29ja2V0U3ZjIiwiJHNjb3BlIiwiJGxvY2F0aW9uIiwiTGFuZ3VhZ2VTdmMiLCJVc2VyU3ZjIiwiJCIsImxvYWQiLCJmYWRlT3V0IiwiZmFkZUluIiwidGhlbWVDb3VudGVyIiwidG9kYXkiLCJEYXRlIiwieWVhciIsImdldEZ1bGxZZWFyIiwicmFuZG9tIiwiTWF0aCIsImZsb29yIiwiZmxpcFRoZW1lIiwic2hvdyIsImhpZGUiLCJzZXRUaW1lb3V0IiwiZ2V0SlNPTiIsInNraWxscyIsImZpbHRlciIsInNraWxsIiwiaG9iYmllcyIsImpvYnMiLCJmb3JFYWNoIiwiam9iIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImdldFRpbWVTcGFuIiwibGFuZ3VhZ2VzIiwic2VsZWN0ZWRMYW5ndWFnZSIsImdldExhbmd1YWdlIiwic2VsZWN0TGFuZ3VhZ2UiLCJsYW5ndWFnZSIsInNldExhbmd1YWdlIiwiaG92ZXJkaXYiLCJkaXZpZCIsImxlZnQiLCJjbGllbnRYIiwidG9wIiwiY2xpZW50WSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjc3MiLCJ0b2dnbGUiLCJzb2NpYWxNZWRpYSIsIm5hbWUiLCJpY29uIiwibG9jYWxTdG9yYWdlIiwidXNlciIsImxvZ2luIiwidGhlbiIsInJlc3BvbnNlIiwibG9nZ2VkSW4iLCJjdXJyZW50VXNlciIsIiRvbiIsIl8iLCJfaWQiLCJiaXJ0aERhdGUiLCJsb2dvdXQiLCJmaXJlYmFzZSIsImF1dGgiLCJzaWduT3V0IiwiY2xlYXIiLCJjYXRjaCIsImVycm9yIiwiRW1haWxTdmMiLCJvcHRpb25zIiwidGV4dCIsImNvbnRhY3QiLCJlbWFpbCIsInBob25lIiwiYWJvdXQiLCJtZXNzYWdlIiwic2VuZGluZyIsInNlbnQiLCJzdGF0dXMiLCJlcnIiLCJnZXRTa2lsbCIsInNraWxsQ29kZSIsImZpbmQiLCJjb2RlIiwiJHdpbmRvdyIsImhvYmJ5U2VsZWN0b3JWaXNpYmxlIiwic2VsZWN0ZWRIb2JieSIsInNlbGVjdEhvYmJ5IiwiaG9iYnkiLCJzaG93SG9iYnkiLCJ2YWx1ZSIsImluZGV4IiwiYXJyYXkiLCJpbWFnZXMiLCJsZW5ndGgiLCJDYXRlZ29yaWVzU3ZjIiwic2hvd0NhdGVnb3J5IiwiaW5pdCIsImdldENhdGVnb3JpZXMiLCJzdWNjZXNzIiwiY2F0ZWdvcmllcyIsInRhc2tzIiwiaSIsImoiLCJwdXNoIiwiY2F0ZWdvcnkiLCJ0YXNrIiwic2VsZWN0Q2F0ZWdvcnkiLCJzZWxlY3RlZENhdGVnb3J5Iiwic2VsZWN0ZWRUYXNrcyIsInNlbGVjdGFibGVUYXNrcyIsImVudGVyZWRDYXRlZ29yeSIsIm5ld0NhdGVnb3J5IiwiZm91bmQiLCJhZGRDYXRlZ29yeSIsIm5ld1Rhc2siLCJzZWxlY3RUYXNrIiwiYWRkVGFzayIsImVudGVyZWRUYXNrIiwicmVtb3ZlVGFzayIsInVuc2VsZWN0VGFzayIsInRhc2tMaXN0Iiwic3BsaWNlIiwiaW5kZXhPZiIsInN0YXJ0UHJpb3JpdGl6aW5nIiwic2V0UHJpb3JpdHlMaXN0IiwicGF0aCIsImdldFF1ZXN0aW9ucyIsImNvdW50ZXIiLCJ1aSIsImZpcmViYXNldWkiLCJBdXRoVUkiLCJzdGFydFVJIiwic3RhcnQiLCJjYWxsYmFja3MiLCJzaWduSW5TdWNjZXNzIiwiY3JlZGVudGlhbCIsInJlZGlyZWN0VXJsIiwiZ2V0SWRUb2tlbiIsImlkVG9rZW4iLCJhdXRoZW50aWNhdGUiLCJkaXNwbGF5TmFtZSIsInBob3RvVVJMIiwiZW1haWxWZXJpZmllZCIsIiRlbWl0IiwibW9kYWwiLCJ0eXBlIiwic2lnbkluRmFpbHVyZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiY3JlZCIsInNpZ25JbldpdGhDcmVkZW50aWFsIiwidWlTaG93biIsInN0eWxlIiwiZGlzcGxheSIsInNpZ25JblN1Y2Nlc3NVcmwiLCJzaWduSW5PcHRpb25zIiwiR29vZ2xlQXV0aFByb3ZpZGVyIiwiUFJPVklERVJfSUQiLCJGYWNlYm9va0F1dGhQcm92aWRlciIsInNpZ25JbkZsb3ciLCJldmVudCIsInJlc2V0IiwiJGZpbHRlciIsIlBvc3RzU3ZjIiwiYWRkUG9zdCIsInBvc3RCb2R5IiwiY3JlYXRlIiwiYm9keSIsInBvc3QiLCJmZXRjaCIsInBvc3RzIiwiZmlsdGVyZWRQb3N0cyIsIiRhcHBseSIsImdldFBvc3QiLCJ1bnNoaWZ0Iiwib2Zmc2V0IiwiZ2VuZGVyIiwic2V4Iiwid2lkdGgiLCJpZGVudGl0eSIsImRhdGVPcHRpb25zIiwibWF4RGF0ZSIsIm1pbkRhdGUiLCJwZXJjZW50YWdlIiwic2V4ZXMiLCJyb3VuZCIsImlkZW50aXRpZXMiLCJzdGFydFNsaWRlciIsImRyYWdTbGlkZXIiLCJzdG9wU2xpZGVyIiwidXNlcm5hbWVUb2dnbGUiLCJwYXNzd29yZFRvZ2dsZSIsInRvZ2dsZVVzZXJuYW1lIiwibmV3VXNlcm5hbWUiLCJ1c2VybmFtZSIsInRvZ2dsZVBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJjb25maXJtUGFzc3dvcmQiLCJjaGVja1Bhc3N3b3JkIiwicGFzc3dvcmQiLCJvcmlnaW5hbEJnIiwiYW5pbWF0ZSIsImJhY2tncm91bmRDb2xvciIsImNoYW5nZVBhc3N3b3JkIiwib2xkUGFzc3dvcmQiLCJjaGFuZ2VVc2VybmFtZSIsInVwZGF0ZVVzZXIiLCJzZWxlY3RlZFNraWxsIiwic2tpbGxzVmlzaWJsZSIsImxhYmVscyIsInNldFNlbGVjdGVkU2tpbGwiLCJjaGFydE9wdGlvbnMiLCJjdXRvdXRQZXJjZW50YWdlIiwiY2lyY3VtZmVyZW5jZSIsIlBJIiwibWFpbnRhaW5Bc3BlY3RSYXRpbyIsInRvb2x0aXBzIiwiY2hhcnRTdHlsZSIsImJhY2tncm91bmQtaW1hZ2UiLCJpbWFnZSIsImJhY2tncm91bmQtcmVwZWF0IiwiYmFja2dyb3VuZC1zaXplIiwiYmFja2dyb3VuZC1wb3NpdGlvbiIsImNob2ljZXMiLCJjaG9pY2UiLCJzY29yZSIsInBsYXllcnMiLCJjdXJyZW50QXZhdGFyIiwiQVZBVEFSX1dJIiwiQVZBVEFSX0hJIiwiQVZBVEFSX0NPTFMiLCJBVkFUQVJfUk9XUyIsIlRhc2siLCJjaG9vc2UiLCJTY29yZSIsImxpc3QiLCJpdGVtIiwiUGxheWVyIiwieCIsInkiLCJhdmF0YXIiLCJzZXRUYXNrcyIsInJhbmRvbV9hdmF0YXIiLCJ1c2VkIiwic2V0X2F2YXRhciIsImRlZmF1bHRMaXN0cyIsImJsYW5rIiwiY2FwdGlvbiIsImNob3JlcyIsInJlc3RhdXJhbnRzIiwicG9rZW1vbiIsImdlbnJlcyIsImNob29zZV90eXBlIiwibWFwIiwicmVtb3ZlTGlzdEl0ZW0iLCJhZGRMaXN0SXRlbSIsImNob29zZV9hdmF0YXIiLCJwcmlvcml0aXplIiwidW5pcXVlIiwiYXJyIiwiY2hlY2tJZkFycmF5SXNVbmlxdWUiLCJhbGVydCIsInNsaWRlRG93biIsImwiLCJ0IiwidGVtcG9yYXJ5VmFsdWUiLCJyYW5kb21JbmRleCIsImN1cnJlbnRJbmRleCIsInNodWZmbGUiLCJuZXdfY2hvaWNlIiwibmV4dF9wbGF5ZXIiLCJ2YWwiLCJtdWx0aXBsYXllciIsInJlc3RhcnQiLCJmaW5hbF9yZXN1bHRzIiwic2xpZGVVcCIsImxhc3QiLCJwYXJlbnQiLCJyZW1vdmUiLCJmaXJzdCIsImZvY3VzIiwicmFuZG9tQ2hvaWNlIiwiYXR0ciIsImlubmVySFRNTCIsImJ1dHRvbiIsImZpbmlzaGVkIiwicGxheWVyIiwic29ydCIsImIiLCJhIiwibm9kZSIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0bm9kZSIsImNyZWF0ZVRleHROb2RlIiwiYXBwZW5kQ2hpbGQiLCJyZXN1bHRzIiwidGFibGVIZWFkIiwiaGVhZGVyUm93IiwidGgiLCJjb2xIZWFkZXIiLCJzZXRBdHRyaWJ1dGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJoZWlnaHQiLCJiYWNrZ3JvdW5kUG9zaXRpb24iLCJjb2xUb3RhbCIsInRhYmxlQm9keSIsInJvdyIsInJvd0hlYWRlciIsImNlbGwiLCJyb3dUb3RhbCIsInJlYWR5IiwiY2xpY2siLCJpbWciLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImxvY2F0aW9uWCIsInBhZ2VYIiwibG9jYXRpb25ZIiwicGFnZVkiLCJjaGVja19hdmF0YXIiLCJ0aW1lUmVtYWluaW5nIiwiZXhlcmNpc2luZyIsImV4ZXJjaXNlcyIsInNwbGl0IiwicmVzdCIsIndvcmtvdXQiLCJjbGVhckludGVydmFsIiwidGltZXIiLCJleGVyY2lzZSIsInNldEludGVydmFsIiwiY3VycmVudEV4ZXJjaXNlIiwiZGlyZWN0aXZlIiwiJHN0YXRlIiwiJGNvbXBpbGUiLCIkaW50ZXJwb2xhdGUiLCJnZXRTdHlsZSIsInRlbXBsYXRlU3R5bGVVcmwiLCJocmVmIiwicmVsIiwibWF0Y2giLCJyZXN0cmljdCIsImxpbmsiLCJzY29wZSIsImVsZW0iLCJ0ZW1wbGF0ZVN0eWxlcyIsImh0bWwiLCJyZXBsYWNlIiwic3RhcnRTeW1ib2wiLCJlbmRTeW1ib2wiLCJhcHBlbmQiLCJ0b1N0YXRlIiwidG9QYXJhbXMiLCJmcm9tU3RhdGUiLCJmcm9tUGFyYW1zIiwic3RhdGVzIiwiZ2V0Iiwidmlld3MiLCJ2aWV3Iiwia2V5IiwiZmxhdCIsImluY2x1ZGVzIiwicmV2ZXJzZSIsImdldFN0eWxlcyIsIiRodHRwIiwic3ZjIiwiZ2V0VGFza3MiLCJwcmlvcml0eUxpc3QiLCJpZCIsImZpcnN0Q2hvaWNlIiwic2Vjb25kQ2hvaWNlIiwibSIsImdldFByaW9yaXR5TGlzdCIsImZsYWciLCJnZXRVc2VyIiwic2V0VG9rZW4iLCJ0b2tlbiIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsImNyZWF0ZVVzZXIiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLE1BQUEsQ0FDQSxZQUNBLGVBQ0EsWUFDQSxhQUNBLGFBQ0EsY0FDQSxhQ1BBRCxRQUFBQyxPQUFBLE9BQ0FDLE9BQUEsQ0FBQSxpQkFBQSxxQkFBQSxvQkFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUVBRCxFQUFB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LFVBQUEsSUFHQWQsRUFBQWUsV0FBQSxTQUFBekwsRUFBQUssR0FDQSxPQUFBb0ssRUFBQW5NLEtBQUEsYUFBQSxDQUNBMEIsU0FBQUEsRUFDQUssU0FBQUEsSUFDQW5KLEtBQUEsV0FDQSxPQUFBd1QsRUFBQXpULE1BQUErSSxFQUFBSyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xyXG4gICd1aS5yb3V0ZXInLFxyXG4gICd1aS5ib290c3RyYXAnLFxyXG4gICduZ0FuaW1hdGUnLFxyXG4gICduZ1Nhbml0aXplJyxcclxuICAnbmdEcmFnRHJvcCcsXHJcbiAgJ3ZjUmVjYXB0Y2hhJyxcclxuICAnY2hhcnQuanMnXHJcbl0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb25maWcoZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XHJcblxyXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9ob21lJyk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyXHJcbiAgLnN0YXRlKCdob21lJywge1xyXG4gICAgdXJsOiAnL2hvbWUnLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcvaG9tZS5odG1sJyxcclxuICAgIC8vdGVtcGxhdGVTdHlsZVVybDogJ2Fzc2V0cy9ob21lLmNzcydcclxuICB9KVxyXG4gIC5zdGF0ZSgncG9saWN5Jywge1xyXG4gICAgdXJsOiAnL3BvbGljeScsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy9wb2xpY3kuaHRtbCcsXHJcbiAgICAvL3RlbXBsYXRlU3R5bGVVcmw6ICdhc3NldHMvaG9tZS5jc3MnXHJcbiAgfSlcclxuICAuc3RhdGUoJ3ByaW50Jywge1xyXG4gICAgdXJsOiAnL3ByaW50JyxcclxuICAgIHRlbXBsYXRlVXJsOiAnL3ByaW50Lmh0bWwnXHJcbiAgfSlcclxuICAuc3RhdGUoJ2V4cGVyaWVuY2UnLCB7XHJcbiAgICB1cmw6ICcvZXhwZXJpZW5jZScsXHJcbiAgICBjb250cm9sbGVyOiAnRXhwZXJpZW5jZUN0cmwnLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcvZXhwZXJpZW5jZS5odG1sJyxcclxuICAgIC8vdGVtcGxhdGVTdHlsZVVybDogJ2Fzc2V0cy9leHBlcmllbmNlLmNzcydcclxuICB9KVxyXG4gIC5zdGF0ZSgnc2tpbGxzJywge1xyXG4gICAgdXJsOiAnL3NraWxscycsXHJcbiAgICBjb250cm9sbGVyOiAnU2tpbGxzQ3RybCcsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy9za2lsbHMuaHRtbCcsXHJcbiAgICAvL3RlbXBsYXRlU3R5bGVVcmw6ICdhc3NldHMvc2tpbGxzLmNzcydcclxuICB9KVxyXG4gIC5zdGF0ZSgnaG9iYmllcycsIHtcclxuICAgIHVybDogJy9ob2JiaWVzJyxcclxuICAgIGNvbnRyb2xsZXI6ICdIb2JiaWVzQ3RybCcsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy9ob2JiaWVzLmh0bWwnLFxyXG4gICAgLy90ZW1wbGF0ZVN0eWxlVXJsOiAnYXNzZXRzL2hvYmJpZXMuY3NzJ1xyXG4gIH0pXHJcbiAgLnN0YXRlKCdjb250YWN0Jywge1xyXG4gICAgdXJsOiAnL2NvbnRhY3QnLFxyXG4gICAgY29udHJvbGxlcjogJ0NvbnRhY3RDdHJsJyxcclxuICAgIHRlbXBsYXRlVXJsOiAnL2NvbnRhY3QuaHRtbCcsXHJcbiAgICAvL3RlbXBsYXRlU3R5bGVVcmw6ICdhc3NldHMvY29udGFjdC5jc3MnXHJcbiAgfSlcclxuICAuc3RhdGUoJ3dvcmtvdXQnLCB7XHJcbiAgICB1cmw6ICcvd29ya291dCcsXHJcbiAgICBjb250cm9sbGVyOiAnV29ya291dEN0cmwnLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcvd29ya291dC5odG1sJ1xyXG4gIH0pXHJcbiAgLnN0YXRlKCd0b3AtcHJpb3JpdHknLCB7XHJcbiAgICB1cmw6ICcvdG9wLXByaW9yaXR5JyxcclxuICAgIGNvbnRyb2xsZXI6ICdUb3BQcmlvcml0eUN0cmwnLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcvdG9wLXByaW9yaXR5Lmh0bWwnXHJcbiAgfSlcclxuICAuc3RhdGUoJ3Bvc3RzJywge1xyXG4gICAgdXJsOiAnL3Bvc3RzJyxcclxuICAgIGNvbnRyb2xsZXI6ICdQb3N0c0N0cmwnLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcvcG9zdHMuaHRtbCdcclxuICB9KVxyXG4gIC5zdGF0ZSgncHJvZmlsZScsIHtcclxuICAgIHVybDogJy9wcm9maWxlJyxcclxuICAgIGNvbnRyb2xsZXI6ICdQcm9maWxlQ3RybCcsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy9wcm9maWxlLmh0bWwnLFxyXG4gICAgLy90ZW1wbGF0ZVN0eWxlVXJsOiAnYXNzZXRzL2NvbnRhY3QuY3NzJ1xyXG4gIH0pO1xyXG5cclxuICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoe1xyXG4gICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgIHJlcXVpcmVCYXNlOiBmYWxzZVxyXG4gIH0pO1xyXG5cclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uc2VydmljZSgnV2ViU29ja2V0U3ZjJywgZnVuY3Rpb24gKCRyb290U2NvcGUsICR0aW1lb3V0KSB7XHJcbiAgZnVuY3Rpb24gd2Vic29ja2V0SG9zdCgpIHtcclxuICAgIGlmICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonKSB7XHJcbiAgICAgIHJldHVybiBcIndzczovL1wiICsgd2luZG93LmxvY2F0aW9uLmhvc3Q7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gXCJ3czovL1wiICsgd2luZG93LmxvY2F0aW9uLmhvc3Q7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB2YXIgY29ubmVjdGlvbjtcclxuICB2YXIgY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbm5lY3Rpb24gPSBuZXcgV2ViU29ja2V0KHdlYnNvY2tldEhvc3QoKSk7XHJcblxyXG4gICAgY29ubmVjdGlvbi5vbm9wZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdXZWJzb2NrZXQgY29ubmVjdGVkJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbm5lY3Rpb24ub25jbG9zZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdXZWJzb2NrZXQgY2xvc2VkLiBSZWNvbm5lY3RpbmcuLi4nKTtcclxuICAgICAgJHRpbWVvdXQoY29ubmVjdCwgMTAwMCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbm5lY3Rpb24ub25lcnJvciA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJFcnJvcjogXCIgKyBlICsgXCIgLSBTdGF0ZTogXCIgKyBjb25uZWN0aW9uLnJlYWR5U3RhdGUpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25uZWN0aW9uLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIHZhciBwYXlsb2FkID0gSlNPTi5wYXJzZShlLmRhdGEpO1xyXG4gICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3dzOicgKyBwYXlsb2FkLnRvcGljLCBwYXlsb2FkLmRhdGEpO1xyXG4gICAgfTtcclxuICB9O1xyXG5cclxuICB0aGlzLnNlbmQgPSBmdW5jdGlvbiAodG9waWMsIGRhdGEpIHtcclxuICAgIHZhciBqc29uID0gSlNPTi5zdHJpbmdpZnkoe3RvcGljOiB0b3BpYywgZGF0YTogZGF0YX0pO1xyXG4gICAgY29ubmVjdGlvbi5zZW5kKGpzb24pO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuY29ubmVjdCA9IGNvbm5lY3Q7XHJcblxyXG59KS5ydW4oZnVuY3Rpb24gKFdlYlNvY2tldFN2Yykge1xyXG4gIFdlYlNvY2tldFN2Yy5jb25uZWN0KCk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0FwcEN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkbG9jYXRpb24sIExhbmd1YWdlU3ZjLCBVc2VyU3ZjKSB7XHJcblxyXG4gIGNvbnNvbGUubG9nKFwiJWNZb3Ugc25lYWt5IGJ1Z2dlciFcIiwgXCJmb250OiAyZW0gc2Fucy1zZXJpZjsgY29sb3I6IERvZGdlckJsdWU7IHRleHQtc2hhZG93OiAycHggMCAwICM0NDQsIC0ycHggMCAwICM0NDQsIDAgMnB4IDAgIzQ0NCwgMCAtMnB4IDAgIzQ0NCwgMXB4IDFweCAjNDQ0LCAtMXB4IC0xcHggMCAjNDQ0LCAxcHggLTFweCAwICM0NDQsIC0xcHggMXB4IDAgIzQ0NDtcIik7XHJcbiAgY29uc29sZS5sb2coXCJJJ20gZ2xhZCB5b3UncmUgY3VyaW91cyB3aGV0aGVyIHNvbWV0aGluZyBpcyBwb3BwaW5nIHVwIGluIGhlcmUuIEknbSBhIGJpdCBvZiBhIHN0aWNrbGVyIHdoZW4gaXQgY29tZXMgdG8gbWVzc2FnZXMgaW4gdGhlIGNvbnNvbGUgc28gSSB0cnkgdG8gbWFrZSBzdXJlIG9ubHkgdGhpbmdzIEkgd2FudCBhcmUgdmlzaWJsZS4gVGhhdCBiZWluZyBzYWlkLCBpZiB0aGVyZSBpcyBhIGJpZyBlcnJvciBoZXJlLCBJIHdvdWxkIHJlYWxseSBhcHByZWNpYXRlIHlvdSB0ZWxsaW5nIG1lIHNvIEkgY2FuIGdldCByaWQgb2YgaXQhXCIpO1xyXG4gIGNvbnNvbGUubG9nKFwiVGhlIGNvZGUgZm9yIG15IHJlc3VtZSBpcyBob3N0ZWQgb24gR2l0aHViIGlmIHlvdSByZWFsbHkgd2FudCB0byBnbyBpbnRvIGFsbCB0aGlzISA9PiBodHRwczovL2dpdGh1Yi5jb20vRmxhbmRlcnNCdXJnZXIvcmVzdW1lXCIpO1xyXG5cclxuICAvKlxyXG4gICQoZG9jdW1lbnQpLmJpbmQoXCJrZXl1cCBrZXlkb3duXCIsIGZ1bmN0aW9uKGUpe1xyXG4gICAgaWYoZS5jdHJsS2V5ICYmIGUua2V5Q29kZSA9PSA4MCl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gICovXHJcblxyXG4gICQod2luZG93KS5sb2FkKGZ1bmN0aW9uKCl7XHJcbiAgICAkKFwiLmxvYWRpbmdcIikuZmFkZU91dChcInNsb3dcIik7XHJcbiAgICAkKFwiLmNvbnRlbnRcIikuZmFkZUluKFwic2xvd1wiKTtcclxuICB9KTtcclxuXHJcbiAgJHNjb3BlLnRoZW1lQ291bnRlciA9IDY7XHJcbiAgJHNjb3BlLnRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAkc2NvcGUueWVhciA9ICRzY29wZS50b2RheS5nZXRGdWxsWWVhcigpO1xyXG4gICRzY29wZS5yYW5kb20gPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMTAwMDAwMCkpO1xyXG5cclxuICAkc2NvcGUuZmxpcFRoZW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAkKFwiLmxvYWRpbmdcIikuc2hvdygpO1xyXG4gICAgICAkKFwiLmNvbnRlbnRcIikuaGlkZSgpO1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJChcIi5sb2FkaW5nXCIpLmZhZGVPdXQoXCJzbG93XCIpO1xyXG4gICAgICAgICQoXCIuY29udGVudFwiKS5mYWRlSW4oXCJzbG93XCIpO1xyXG4gICAgICB9LCA4MDApO1xyXG4gICAgJHNjb3BlLnRoZW1lQ291bnRlciA9ICRzY29wZS50aGVtZUNvdW50ZXIgPCA2ID8gJHNjb3BlLnRoZW1lQ291bnRlciArIDEgOiAkc2NvcGUudGhlbWVDb3VudGVyID0gMTtcclxuICB9O1xyXG5cclxuXHJcbiAgJC5nZXRKU09OKCcvc2tpbGxzLmpzb24nLCBmdW5jdGlvbiggZGF0YSApIHtcclxuICAgICRzY29wZS5za2lsbHMgPSBkYXRhLmZpbHRlcihmdW5jdGlvbihza2lsbCkge1xyXG4gICAgICByZXR1cm4gc2tpbGwuZW5hYmxlZDtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuXHJcbiAgJC5nZXRKU09OKCcvaG9iYmllcy5qc29uJywgZnVuY3Rpb24oIGRhdGEgKSB7XHJcbiAgICAkc2NvcGUuaG9iYmllcyA9IGRhdGE7XHJcbiAgfSk7XHJcblxyXG5cclxuICAkLmdldEpTT04oJy9leHBlcmllbmNlLmpzb24nLCBmdW5jdGlvbiggZGF0YSApIHtcclxuICAgICRzY29wZS5qb2JzID0gZGF0YTtcclxuICAgICRzY29wZS5qb2JzLmZvckVhY2goZnVuY3Rpb24gKGpvYikge1xyXG4gICAgICBqb2Iuc3RhcnREYXRlID0gbmV3IERhdGUoam9iLnN0YXJ0RGF0ZSk7XHJcbiAgICAgIGlmIChqb2IuZW5kRGF0ZSkgam9iLmVuZERhdGUgPSBuZXcgRGF0ZShqb2IuZW5kRGF0ZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgJHNjb3BlLmdldFRpbWVTcGFuID0gZnVuY3Rpb24gKGpvYikge1xyXG4gICAgcmV0dXJuIGpvYi5zdGFydERhdGUuZ2V0RnVsbFllYXIoKSArIChqb2IuZW5kRGF0ZSA/ICgnIC0gJyArIGpvYi5lbmREYXRlLmdldEZ1bGxZZWFyKCkpIDogJyAtIFRvZGF5Jyk7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLmxhbmd1YWdlcyA9IExhbmd1YWdlU3ZjLmxhbmd1YWdlcztcclxuXHJcbiAgJHNjb3BlLnNlbGVjdGVkTGFuZ3VhZ2UgPSBMYW5ndWFnZVN2Yy5nZXRMYW5ndWFnZSgpO1xyXG5cclxuICAkc2NvcGUuc2VsZWN0TGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ3VhZ2UpIHtcclxuICAgICRzY29wZS5zZWxlY3RlZExhbmd1YWdlID0gTGFuZ3VhZ2VTdmMuc2V0TGFuZ3VhZ2UobGFuZ3VhZ2UpO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5ob3ZlcmRpdiA9IGZ1bmN0aW9uIChlLCBkaXZpZCkge1xyXG4gICAgdmFyIGxlZnQgID0gZS5jbGllbnRYICsgXCJweFwiO1xyXG4gICAgdmFyIHRvcCAgPSAoZS5jbGllbnRZICsgMjApICsgXCJweFwiO1xyXG5cclxuICAgIHZhciBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZpZCk7XHJcblxyXG4gICAgJChcIiNcIitkaXZpZCkuY3NzKCdsZWZ0JyxsZWZ0KTtcclxuICAgICQoXCIjXCIrZGl2aWQpLmNzcygndG9wJyx0b3ApO1xyXG5cclxuICAgICQoXCIjXCIrZGl2aWQpLnRvZ2dsZSgpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5zb2NpYWxNZWRpYSA9IFsvKlxyXG4gICAge1xyXG4gICAgICBcIm5hbWVcIjogXCJmYWNlYm9va1wiLFxyXG4gICAgICBcInVybFwiOiBcImh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9mbGFuZGVyc2J1cmdlclwiLFxyXG4gICAgICBcImljb25cIjogXCJmYS1mYWNlYm9vay1mXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwibmFtZVwiOiBcInR3aXR0ZXJcIixcclxuICAgICAgXCJ1cmxcIjogXCJodHRwczovL3R3aXR0ZXIuY29tL0JlbGdvQ2FuYWRpYW5cIixcclxuICAgICAgXCJpY29uXCI6IFwiZmEtdHdpdHRlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIm5hbWVcIjogXCJnb29kcmVhZHNcIixcclxuICAgICAgXCJ1cmxcIjogXCJodHRwczovL3d3dy5nb29kcmVhZHMuY29tL3VzZXIvc2hvdy8xNzA3MDAxMC1sYXVyZW50XCIsXHJcbiAgICAgIFwiaWNvblwiOiBcImZhLWJvb2tcIlxyXG4gICAgfSwqL1xyXG4gICAge1xyXG4gICAgICBcIm5hbWVcIjogXCJsaW5rZWRpblwiLFxyXG4gICAgICBcInVybFwiOiBcImh0dHBzOi8vd3d3LmxpbmtlZGluLmNvbS9pbi9sYXVyZW50LWRlYmFja2VyLTE2MzNhOTE2XCIsXHJcbiAgICAgIFwiaWNvblwiOiBcImZhLWxpbmtlZGluXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwibmFtZVwiOiBcImdpdGh1YlwiLFxyXG4gICAgICBcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9GbGFuZGVyc0J1cmdlclwiLFxyXG4gICAgICBcImljb25cIjogXCJmYS1naXRodWJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCJuYW1lXCI6IFwianNmaWRkbGVcIixcclxuICAgICAgXCJ1cmxcIjogXCJodHRwczovL2pzZmlkZGxlLm5ldC91c2VyL0JlbGdvQ2FuYWRpYW4vZmlkZGxlcy9cIixcclxuICAgICAgXCJpY29uXCI6IFwiZmEtanNmaWRkbGVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCJuYW1lXCI6IFwic3RhY2tvdmVyZmxvd1wiLFxyXG4gICAgICBcInVybFwiOiBcImh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS91c2Vycy8xMDgzOTIzL2JlbGdvY2FuYWRpYW5cIixcclxuICAgICAgXCJpY29uXCI6IFwiZmEtc3RhY2stb3ZlcmZsb3dcIlxyXG5cclxuICAgIH1cclxuICBdO1xyXG5cclxuICBjb25zb2xlLmxvZyh3aW5kb3cubG9jYWxTdG9yYWdlLnVzZXIpO1xyXG5cclxuICBpZiAod2luZG93LmxvY2FsU3RvcmFnZS51c2VyKSB7XHJcbiAgICBVc2VyU3ZjLmxvZ2luKHdpbmRvdy5sb2NhbFN0b3JhZ2UudXNlcilcclxuICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICRzY29wZS5sb2dnZWRJbiA9IHRydWU7XHJcbiAgICAgICRzY29wZS5jdXJyZW50VXNlciA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gICRzY29wZS4kb24oJ2xvZ2luJywgZnVuY3Rpb24gKF8sIHVzZXIpIHtcclxuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UudXNlciA9IHVzZXIuX2lkO1xyXG4gICAgJHNjb3BlLmxvZ2dlZEluID0gdHJ1ZTtcclxuICAgICRzY29wZS5jdXJyZW50VXNlciA9IHVzZXI7XHJcbiAgfSk7XHJcblxyXG4gICRzY29wZS4kb24oJ3VwZGF0ZScsIGZ1bmN0aW9uIChfLCB1c2VyKSB7XHJcbiAgICAkc2NvcGUuY3VycmVudFVzZXIgPSB1c2VyO1xyXG4gICAgJHNjb3BlLmN1cnJlbnRVc2VyLmJpcnRoRGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5jdXJyZW50VXNlci5iaXJ0aERhdGUpO1xyXG4gIH0pO1xyXG5cclxuICAkc2NvcGUubG9nb3V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbk91dCgpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgIC8vIFNpZ24tb3V0IHN1Y2Nlc3NmdWwuXHJcbiAgICAgICRzY29wZS5sb2dnZWRJbiA9IGZhbHNlO1xyXG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdsb2dvdXQnKTtcclxuICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XHJcbiAgICAgIC8vIEFuIGVycm9yIGhhcHBlbmVkLlxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0NvbnRhY3RDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgRW1haWxTdmMpIHtcclxuXHJcbiAgJHNjb3BlLm9wdGlvbnMgPSBbXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiU3BhbVwiLFxyXG4gICAgICB0ZXh0OiBcIkkgYW0gYSBzcGFtIGJvdCBhbmQgYXV0b21hdGljYWxseSBjaGVjayB0aGUgZmlyc3Qgb3B0aW9uIEkgZmluZCFcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJPcHBvcnR1bml0aXlcIixcclxuICAgICAgdGV4dDogXCJZb3Ugc2VlbSB0byBoYXZlIHRoZSBza2lsbHMgSSBzZWVrLCBJJ2QgbGlrZSB0byB0YWxrIGFib3V0IHNvbWUgb3Bwb3J0dW5pdGllcy5cIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJSZXN1bWVcIixcclxuICAgICAgdGV4dDogXCJJIGRpZyB0aGUgcmVzdW1lLCBob3cgZGlkIHlvdSBtYWtlIGl0P1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIk90aGVyXCIsXHJcbiAgICAgIHRleHQ6IFwiU3VtdGluIGVsc2UhXCJcclxuICAgIH1cclxuXHJcbiAgXTtcclxuXHJcbiAgJHNjb3BlLmNvbnRhY3QgPSB7XHJcbiAgICBlbWFpbDogXCJcIixcclxuICAgIG5hbWU6IFwiXCIsXHJcbiAgICBwaG9uZTogXCJcIixcclxuICAgIGFib3V0OiBcIlwiLFxyXG4gICAgbWVzc2FnZTogXCJcIlxyXG4gIH07XHJcblxyXG4gICRzY29wZS5zZW5kID0gZnVuY3Rpb24oKSB7XHJcbiAgICAkc2NvcGUuc2VuZGluZyA9IHRydWU7XHJcbiAgICBjb25zb2xlLmxvZygnaGVyZScpO1xyXG4gICAgRW1haWxTdmMuc2VuZCh7XHJcbiAgICAgIFwiZW1haWxcIjogJHNjb3BlLmNvbnRhY3QuZW1haWwsXHJcbiAgICAgIFwibmFtZVwiOiAkc2NvcGUuY29udGFjdC5uYW1lLFxyXG4gICAgICBcInBob25lXCI6ICAkc2NvcGUuY29udGFjdC5waG9uZSxcclxuICAgICAgXCJhYm91dFwiOiAkc2NvcGUuY29udGFjdC5hYm91dCxcclxuICAgICAgXCJtZXNzYWdlXCI6ICRzY29wZS5jb250YWN0Lm1lc3NhZ2VcclxuICAgIH0pXHJcbiAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAkc2NvcGUuc2VudCA9IHRydWU7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiU1VDQ0VTUy4gc3RhdHVzPSVkLCB0ZXh0PSVzXCIsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UudGV4dCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICAgIH0sIGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAkc2NvcGUuc2VuZGluZyA9IGZhbHNlO1xyXG4gICAgICBjb25zb2xlLmxvZyhcIkZBSUxFRC4gZXJyb3I9XCIsIGVycik7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignRXhwZXJpZW5jZUN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XHJcblxyXG4gICRzY29wZS5nZXRTa2lsbCA9IGZ1bmN0aW9uKHNraWxsQ29kZSkge1xyXG4gICAgaWYgKCEkc2NvcGUuc2tpbGxzKSByZXR1cm47XHJcbiAgICByZXR1cm4gJHNjb3BlLnNraWxscy5maW5kKGZ1bmN0aW9uKHNraWxsKSB7XHJcbiAgICAgIHJldHVybiBza2lsbC5jb2RlID09PSBza2lsbENvZGU7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignSG9iYmllc0N0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkd2luZG93KSB7XHJcblxyXG4gICRzY29wZS5ob2JieVNlbGVjdG9yVmlzaWJsZSA9IGZhbHNlO1xyXG5cclxuICAkLmdldEpTT04oJ2h0dHBzOi8vd3d3LnJlZGRpdC5jb20vdXNlci9iZWxnb2NhbmFkaWFuL2Fib3V0Ly5qc29uJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpO1xyXG4gIH0pO1xyXG5cclxuICAkc2NvcGUuc2VsZWN0ZWRIb2JieSA9ICRzY29wZS5ob2JiaWVzWzBdO1xyXG5cclxuICAkc2NvcGUuc2VsZWN0SG9iYnkgPSBmdW5jdGlvbiAoaG9iYnkpIHtcclxuICAgICRzY29wZS5zZWxlY3RlZEhvYmJ5ID0gaG9iYnk7XHJcbiAgICAkc2NvcGUuaG9iYnlTZWxlY3RvclZpc2libGUgPSBmYWxzZTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUuc2hvd0hvYmJ5ID0gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgYXJyYXkpIHtcclxuICAgIGlmICghdmFsdWUuaW1hZ2VzKSByZXR1cm4gZmFsc2U7XHJcbiAgICByZXR1cm4gdmFsdWUuaW1hZ2VzLmxlbmd0aCA+IDA7XHJcbiAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignTGlzdHNDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCBDYXRlZ29yaWVzU3ZjKSB7XHJcblxyXG4gICRzY29wZS5zaG93Q2F0ZWdvcnkgPSB0cnVlO1xyXG5cclxuICAkc2NvcGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIENhdGVnb3JpZXNTdmMuZ2V0Q2F0ZWdvcmllcygpXHJcbiAgICAuc3VjY2VzcyhmdW5jdGlvbiAoY2F0ZWdvcmllcykge1xyXG4gICAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IGNhdGVnb3JpZXM7XHJcbiAgICAgICRzY29wZS50YXNrcyA9IFtdO1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5jYXRlZ29yaWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAkc2NvcGUuY2F0ZWdvcmllc1tpXS50YXNrcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgJHNjb3BlLnRhc2tzLnB1c2goe1xyXG4gICAgICAgICAgICBcImNhdGVnb3J5XCI6ICRzY29wZS5jYXRlZ29yaWVzW2ldLm5hbWUsXHJcbiAgICAgICAgICAgIFwidGFza1wiOiAkc2NvcGUuY2F0ZWdvcmllc1tpXS50YXNrc1tqXS5uYW1lXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5zZWxlY3RDYXRlZ29yeSA9IGZ1bmN0aW9uKGNhdGVnb3J5KSB7XHJcbiAgICAkc2NvcGUuc2VsZWN0ZWRDYXRlZ29yeSA9IGNhdGVnb3J5O1xyXG4gICAgJHNjb3BlLnNlbGVjdGVkVGFza3MgPSBbXTtcclxuICAgICRzY29wZS5zZWxlY3RhYmxlVGFza3MgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLnNlbGVjdGVkQ2F0ZWdvcnkudGFza3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgJHNjb3BlLnNlbGVjdGFibGVUYXNrcy5wdXNoKCRzY29wZS5zZWxlY3RlZENhdGVnb3J5LnRhc2tzW2ldKTtcclxuICAgIH1cclxuICAgICRzY29wZS5zaG93Q2F0ZWdvcnkgPSBmYWxzZTtcclxuICAgICRzY29wZS5lbnRlcmVkQ2F0ZWdvcnkgPSBudWxsO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5uZXdDYXRlZ29yeSA9IGZ1bmN0aW9uIChjYXRlZ29yeSkge1xyXG4gICAgdmFyIGZvdW5kID0gZmFsc2U7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5jYXRlZ29yaWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmICgkc2NvcGUuY2F0ZWdvcmllc1tpXS5uYW1lID09PSBjYXRlZ29yeSkge1xyXG4gICAgICAgICRzY29wZS5zZWxlY3RDYXRlZ29yeSgkc2NvcGUuY2F0ZWdvcmllc1tpXSk7XHJcbiAgICAgICAgZm91bmQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWZvdW5kKSB7XHJcbiAgICAgIENhdGVnb3JpZXNTdmMuYWRkQ2F0ZWdvcnkoe1xyXG4gICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeVxyXG4gICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChjYXRlZ29yeSkge1xyXG4gICAgICAgICRzY29wZS5pbml0KCk7XHJcbiAgICAgICAgJHNjb3BlLnNlbGVjdENhdGVnb3J5KGNhdGVnb3J5KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAkc2NvcGUuZW50ZXJlZENhdGVnb3J5ID0gbnVsbDtcclxuICB9O1xyXG5cclxuICAkc2NvcGUubmV3VGFzayA9IGZ1bmN0aW9uICh0YXNrKSB7XHJcbiAgICB2YXIgZm91bmQgPSBmYWxzZTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLnNlbGVjdGVkQ2F0ZWdvcnkudGFza3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKCRzY29wZS5zZWxlY3RlZENhdGVnb3J5LnRhc2tzW2ldLm5hbWUgPT09IHRhc2spIHtcclxuICAgICAgICBmb3VuZCA9IHRydWU7XHJcbiAgICAgICAgJHNjb3BlLnNlbGVjdFRhc2soJHNjb3BlLnNlbGVjdGVkQ2F0ZWdvcnkudGFza3NbaV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWZvdW5kKSB7XHJcbiAgICAgIENhdGVnb3JpZXNTdmMuYWRkVGFzaygkc2NvcGUuc2VsZWN0ZWRDYXRlZ29yeS5uYW1lLCB7XHJcbiAgICAgICAgdGFzazogdGFza1xyXG4gICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkc2NvcGUuc2VsZWN0ZWRDYXRlZ29yeS50YXNrcy5wdXNoKHsgbmFtZTogdGFzayB9KTtcclxuICAgICAgICAkc2NvcGUuYWRkVGFzaygkc2NvcGUuc2VsZWN0ZWRUYXNrcywgJHNjb3BlLnNlbGVjdGVkQ2F0ZWdvcnkudGFza3NbJHNjb3BlLnNlbGVjdGVkQ2F0ZWdvcnkudGFza3MubGVuZ3RoIC0gMV0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgICRzY29wZS5lbnRlcmVkVGFzayA9IG51bGw7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLnNlbGVjdFRhc2sgPSBmdW5jdGlvbiAodGFzaykge1xyXG4gICAgJHNjb3BlLmFkZFRhc2soJHNjb3BlLnNlbGVjdGVkVGFza3MsIHRhc2spO1xyXG4gICAgJHNjb3BlLnJlbW92ZVRhc2soJHNjb3BlLnNlbGVjdGFibGVUYXNrcywgdGFzayk7XHJcbiAgICAkc2NvcGUuZW50ZXJlZFRhc2sgPSBudWxsO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS51bnNlbGVjdFRhc2sgPSBmdW5jdGlvbiAodGFzaykge1xyXG4gICAgJHNjb3BlLmFkZFRhc2soJHNjb3BlLnNlbGVjdGFibGVUYXNrcywgdGFzayk7XHJcbiAgICAkc2NvcGUucmVtb3ZlVGFzaygkc2NvcGUuc2VsZWN0ZWRUYXNrcywgdGFzayk7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLmFkZFRhc2sgPSBmdW5jdGlvbih0YXNrTGlzdCwgdGFzaykge1xyXG4gICAgdGFza0xpc3QucHVzaCh0YXNrKTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUucmVtb3ZlVGFzayA9IGZ1bmN0aW9uKHRhc2tMaXN0LCB0YXNrKSB7XHJcbiAgICB0YXNrTGlzdC5zcGxpY2UodGFza0xpc3QuaW5kZXhPZih0YXNrKSwgMSk7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLnN0YXJ0UHJpb3JpdGl6aW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICBDYXRlZ29yaWVzU3ZjLnNldFByaW9yaXR5TGlzdCgkc2NvcGUuc2VsZWN0ZWRUYXNrcyk7XHJcbiAgICAkbG9jYXRpb24ucGF0aCgnL3ByaW9yaXRpemUnKTtcclxuICB9O1xyXG5cclxuICAkc2NvcGUuZ2V0UXVlc3Rpb25zID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoISRzY29wZS5zZWxlY3RlZFRhc2tzKSByZXR1cm4gJyc7XHJcbiAgICB2YXIgY291bnRlciA9IDA7XHJcbiAgICBmb3IgKHZhciBpID0gJHNjb3BlLnNlbGVjdGVkVGFza3MubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xyXG4gICAgICBjb3VudGVyICs9IGk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY291bnRlcjtcclxuICB9O1xyXG5cclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignTG9naW5DdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCBVc2VyU3ZjKSB7XHJcblxyXG4gIC8vIEluaXRpYWxpemUgdGhlIEZpcmViYXNlVUkgV2lkZ2V0IHVzaW5nIEZpcmViYXNlLlxyXG4gIHZhciB1aSA9IG5ldyBmaXJlYmFzZXVpLmF1dGguQXV0aFVJKGZpcmViYXNlLmF1dGgoKSk7XHJcblxyXG4gICRzY29wZS4kb24oJ2xvZ291dCcsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICB1aS5yZXNldCgpO1xyXG4gICAgc3RhcnRVSSgpO1xyXG4gIH0pO1xyXG5cclxuICBmdW5jdGlvbiBzdGFydFVJKCkge1xyXG4gICAgdWkuc3RhcnQoJyNmaXJlYmFzZXVpLWF1dGgtY29udGFpbmVyJywge1xyXG5cclxuICAgICAgY2FsbGJhY2tzOiB7XHJcbiAgICAgICAgc2lnbkluU3VjY2VzczogZnVuY3Rpb24oY3VycmVudFVzZXIsIGNyZWRlbnRpYWwsIHJlZGlyZWN0VXJsKSB7XHJcbiAgICAgICAgICAvLyBObyByZWRpcmVjdC5cclxuICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci5nZXRJZFRva2VuKHRydWUpLnRoZW4oZnVuY3Rpb24oaWRUb2tlbikge1xyXG4gICAgICAgICAgICBVc2VyU3ZjLmF1dGhlbnRpY2F0ZSh7XHJcbiAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGN1cnJlbnRVc2VyLmRpc3BsYXlOYW1lLFxyXG4gICAgICAgICAgICAgIGVtYWlsOiBjdXJyZW50VXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICBwaG90b1VSTDogY3VycmVudFVzZXIucGhvdG9VUkwsXHJcbiAgICAgICAgICAgICAgZW1haWxWZXJpZmllZDogY3VycmVudFVzZXIuZW1haWxWZXJpZmllZCxcclxuICAgICAgICAgICAgICBpZFRva2VuOiBpZFRva2VuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnbG9naW4nLCByZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAkKCcjbW9kYWwtbG9naW4nKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ3BvcHVwJywge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0xvZ2luIEZhaWxlZCcsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnYWxlcnQtZGFuZ2VyJ1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gLi4uXHJcbiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICAgICAgICAvLyBIYW5kbGUgZXJyb3JcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vIHNpZ25JbkZhaWx1cmUgY2FsbGJhY2sgbXVzdCBiZSBwcm92aWRlZCB0byBoYW5kbGUgbWVyZ2UgY29uZmxpY3RzIHdoaWNoXHJcbiAgICAgICAgLy8gb2NjdXIgd2hlbiBhbiBleGlzdGluZyBjcmVkZW50aWFsIGlzIGxpbmtlZCB0byBhbiBhbm9ueW1vdXMgdXNlci5cclxuICAgICAgICBzaWduSW5GYWlsdXJlOiBmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICAgICAgLy8gRm9yIG1lcmdlIGNvbmZsaWN0cywgdGhlIGVycm9yLmNvZGUgd2lsbCBiZVxyXG4gICAgICAgICAgLy8gJ2ZpcmViYXNldWkvYW5vbnltb3VzLXVwZ3JhZGUtbWVyZ2UtY29uZmxpY3QnLlxyXG4gICAgICAgICAgaWYgKGVycm9yLmNvZGUgIT0gJ2ZpcmViYXNldWkvYW5vbnltb3VzLXVwZ3JhZGUtbWVyZ2UtY29uZmxpY3QnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIFRoZSBjcmVkZW50aWFsIHRoZSB1c2VyIHRyaWVkIHRvIHNpZ24gaW4gd2l0aC5cclxuICAgICAgICAgIHZhciBjcmVkID0gZXJyb3IuY3JlZGVudGlhbDtcclxuICAgICAgICAgIC8vIENvcHkgZGF0YSBmcm9tIGFub255bW91cyB1c2VyIHRvIHBlcm1hbmVudCB1c2VyIGFuZCBkZWxldGUgYW5vbnltb3VzXHJcbiAgICAgICAgICAvLyB1c2VyLlxyXG4gICAgICAgICAgLy8gLi4uXHJcbiAgICAgICAgICAvLyBGaW5pc2ggc2lnbi1pbiBhZnRlciBkYXRhIGlzIGNvcGllZC5cclxuICAgICAgICAgIHJldHVybiBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aENyZWRlbnRpYWwoY3JlZCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1aVNob3duOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIC8vIFRoZSB3aWRnZXQgaXMgcmVuZGVyZWQuXHJcbiAgICAgICAgICAvLyBIaWRlIHRoZSBsb2FkZXIuXHJcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGVyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHNpZ25JblN1Y2Nlc3NVcmw6ICcvaG9tZScsXHJcbiAgICAgIHNpZ25Jbk9wdGlvbnM6IFtcclxuICAgICAgICAvL2ZpcmViYXNlLmF1dGguRW1haWxBdXRoUHJvdmlkZXIuUFJPVklERVJfSUQsXHJcbiAgICAgICAgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIuUFJPVklERVJfSUQsXHJcbiAgICAgICAgZmlyZWJhc2UuYXV0aC5GYWNlYm9va0F1dGhQcm92aWRlci5QUk9WSURFUl9JRCxcclxuICAgICAgXSxcclxuXHJcbiAgICAgIC8vIFdpbGwgdXNlIHBvcHVwIGZvciBJRFAgUHJvdmlkZXJzIHNpZ24taW4gZmxvdyBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0LCByZWRpcmVjdC5cclxuICAgICAgc2lnbkluRmxvdzogJ3BvcHVwJyxcclxuICAgICAgLy8gT3RoZXIgY29uZmlnIG9wdGlvbnMuLi5cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3RhcnRVSSgpO1xyXG5cclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignUG9zdHNDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJGZpbHRlciwgUG9zdHNTdmMpIHtcclxuXHJcbiAgJHNjb3BlLmFkZFBvc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoJHNjb3BlLnBvc3RCb2R5KSB7XHJcbiAgICAgIFBvc3RzU3ZjLmNyZWF0ZSh7XHJcbiAgICAgICAgYm9keTogJHNjb3BlLnBvc3RCb2R5XHJcbiAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKHBvc3QpIHtcclxuICAgICAgICAkc2NvcGUucG9zdEJvZHkgPSBudWxsO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBQb3N0c1N2Yy5mZXRjaCgpXHJcbiAgLnN1Y2Nlc3MoZnVuY3Rpb24gKHBvc3RzKSB7XHJcbiAgICAkc2NvcGUucG9zdHMgPSBwb3N0cztcclxuICAgICRzY29wZS5maWx0ZXJlZFBvc3RzID0gcG9zdHM7XHJcbiAgfSk7XHJcblxyXG4gICRzY29wZS4kb24oJ3dzOm5ld19wb3N0JywgZnVuY3Rpb24gKF8sIHBvc3QpIHtcclxuICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICBQb3N0c1N2Yy5nZXRQb3N0KHBvc3QpXHJcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5wb3N0cy51bnNoaWZ0KHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignUHJvZmlsZUN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkbG9jYXRpb24sIFVzZXJTdmMpIHtcclxuXHJcbiAgaWYgKCEkc2NvcGUuY3VycmVudFVzZXIpIHtcclxuICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XHJcbiAgfSBlbHNlIHtcclxuICAgICQoJyNzZXgtaW5kaWNhdG9yJykub2Zmc2V0KHsgbGVmdDogKCRzY29wZS5jdXJyZW50VXNlci5nZW5kZXIuc2V4IC8gMjAwICogJCgnI3NleCcpLndpZHRoKCkpICsgJCgnI3NleCcpLm9mZnNldCgpLmxlZnQgfSk7XHJcbiAgICAkKCcjaWRlbnRpdHktaW5kaWNhdG9yJykub2Zmc2V0KHsgbGVmdDogKCRzY29wZS5jdXJyZW50VXNlci5nZW5kZXIuaWRlbnRpdHkgLyAyMDAgKiAkKCcjaWRlbnRpdHknKS53aWR0aCgpKSArICQoJyNpZGVudGl0eScpLm9mZnNldCgpLmxlZnQgfSk7XHJcbiAgfVxyXG5cclxuICAkc2NvcGUuZGF0ZU9wdGlvbnMgPSB7XHJcbiAgICBtYXhEYXRlOiBuZXcgRGF0ZSgpLFxyXG4gICAgbWluRGF0ZTogbmV3IERhdGUoJzE5MDAtMDEtMDEnKSxcclxuICB9O1xyXG5cclxuICAkc2NvcGUuc2V4ID0gZnVuY3Rpb24ocGVyY2VudGFnZSkge1xyXG4gICAgdmFyIHNleGVzID0gW1xyXG4gICAgICAnTWFsZScsXHJcbiAgICAgICdGdE0gTWFsZScsXHJcbiAgICAgICdJbnRlcnNleCcsXHJcbiAgICAgICdNdEYgRmVtYWxlJyxcclxuICAgICAgJ0ZlbWFsZSdcclxuICAgIF07XHJcbiAgICByZXR1cm4gc2V4ZXNbTWF0aC5yb3VuZChwZXJjZW50YWdlIC8gMjAwICogKHNleGVzLmxlbmd0aCAtIDEpKV07XHJcbiAgfTtcclxuICAkc2NvcGUuaWRlbnRpdHkgPSBmdW5jdGlvbihwZXJjZW50YWdlKSB7XHJcbiAgICB2YXIgaWRlbnRpdGllcyA9IFtcclxuICAgICAgJ01hbicsXHJcbiAgICAgICdCaWdlbmRlcicsXHJcbiAgICAgICdQYW5nZW5kZXInLFxyXG4gICAgICAnQWdlbmRlcicsXHJcbiAgICAgICdQb2x5Z2VuZGVyJyxcclxuICAgICAgJ0dlbmRlcmZsdWlkJyxcclxuICAgICAgJ0dlbmRlcnF1ZWVyJyxcclxuICAgICAgJ1F1ZWVyJyxcclxuICAgICAgJ1dvbWFuJ1xyXG4gICAgXTtcclxuICAgIHJldHVybiBpZGVudGl0aWVzW01hdGgucm91bmQocGVyY2VudGFnZSAvIDIwMCAqIChpZGVudGl0aWVzLmxlbmd0aCAtIDEpKV07XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLnN0YXJ0U2xpZGVyID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gIH07XHJcbiAgJHNjb3BlLmRyYWdTbGlkZXIgPSBmdW5jdGlvbihldmVudCwgdWksIHR5cGUpIHtcclxuICAgICRzY29wZS5jdXJyZW50VXNlci5nZW5kZXJbdHlwZV0gPSBNYXRoLnJvdW5kKCgkKCcjJyArIHR5cGUgKyAnLWluZGljYXRvcicpLm9mZnNldCgpLmxlZnQgLSAkKCcjJyArIHR5cGUpLm9mZnNldCgpLmxlZnQpIC8gKCQoJyMnICsgdHlwZSkud2lkdGgoKSAtICQoJyMnICsgdHlwZSArICctaW5kaWNhdG9yJykud2lkdGgoKSkgKiAyMDApO1xyXG4gICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gIH07XHJcbiAgJHNjb3BlLnN0b3BTbGlkZXIgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLnVzZXJuYW1lVG9nZ2xlID0gdHJ1ZTtcclxuICAkc2NvcGUucGFzc3dvcmRUb2dnbGUgPSB0cnVlO1xyXG5cclxuICAkc2NvcGUudG9nZ2xlVXNlcm5hbWUgPSBmdW5jdGlvbigpIHtcclxuICAgICRzY29wZS51c2VybmFtZVRvZ2dsZSA9ICEkc2NvcGUudXNlcm5hbWVUb2dnbGU7XHJcbiAgICAkc2NvcGUubmV3VXNlcm5hbWUgPSAkc2NvcGUuY3VycmVudFVzZXIudXNlcm5hbWU7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLnRvZ2dsZVBhc3N3b3JkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAkc2NvcGUubmV3UGFzc3dvcmQgPSBudWxsO1xyXG4gICAgJHNjb3BlLmNvbmZpcm1QYXNzd29yZCA9IG51bGw7XHJcbiAgICAkc2NvcGUucGFzc3dvcmRUb2dnbGUgPSAhJHNjb3BlLnBhc3N3b3JkVG9nZ2xlO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5jaGVja1Bhc3N3b3JkID0gZnVuY3Rpb24gKHBhc3N3b3JkKSB7XHJcbiAgICBpZiAocGFzc3dvcmQpIHtcclxuICAgICAgdmFyIHVzZXIgPSAkc2NvcGUuY3VycmVudFVzZXIuX2lkO1xyXG4gICAgICBVc2VyU3ZjLmNoZWNrUGFzc3dvcmQodXNlciwgcGFzc3dvcmQpXHJcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS50b2dnbGVQYXNzd29yZCgpO1xyXG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG9yaWdpbmFsQmcgPSAkKFwiLnBhc3N3b3JkXCIpLmNzcyhcImJhY2tncm91bmRDb2xvclwiKTtcclxuICAgICAgICAkKFwiLnBhc3N3b3JkXCIpLmFuaW1hdGUoeyBiYWNrZ3JvdW5kQ29sb3I6IFwiI0ZGQjZDMVwiIH0sIDIwMCkuYW5pbWF0ZSh7IGJhY2tncm91bmRDb2xvcjogb3JpZ2luYWxCZyB9LCAyMDApO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAkc2NvcGUuY2hhbmdlUGFzc3dvcmQgPSBmdW5jdGlvbiAob2xkUGFzc3dvcmQsIG5ld1Bhc3N3b3JkLCBjb25maXJtUGFzc3dvcmQpIHtcclxuICAgIGlmIChuZXdQYXNzd29yZCkge1xyXG4gICAgICBpZiAobmV3UGFzc3dvcmQgPT0gY29uZmlybVBhc3N3b3JkKSB7XHJcbiAgICAgICAgdmFyIHVzZXIgPSAkc2NvcGUuY3VycmVudFVzZXIuX2lkO1xyXG4gICAgICAgIFVzZXJTdmMuY2hhbmdlUGFzc3dvcmQodXNlciwgb2xkUGFzc3dvcmQsIG5ld1Bhc3N3b3JkKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdwb3B1cCcsIHtcclxuICAgICAgICAgICAgbWVzc2FnZTogJ1Bhc3N3b3JkIENoYW5nZWQnLFxyXG4gICAgICAgICAgICB0eXBlOiAnYWxlcnQtc3VjY2VzcydcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgJHNjb3BlLm9sZFBhc3N3b3JkID0gbnVsbDtcclxuICAgICAgICAgICRzY29wZS50b2dnbGVQYXNzd29yZCgpO1xyXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgncG9wdXAnLCB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdQYXNzd29yZCBDaGFuZ2UgRmFpbGVkJyxcclxuICAgICAgICAgICAgdHlwZTogJ2FsZXJ0LWRhbmdlcidcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBvcmlnaW5hbEJnID0gJChcIi5wYXNzd29yZFwiKS5jc3MoXCJiYWNrZ3JvdW5kQ29sb3JcIik7XHJcbiAgICAgICAgJChcIi5wYXNzd29yZFwiKS5hbmltYXRlKHsgYmFja2dyb3VuZENvbG9yOiBcIiNGRkI2QzFcIiB9LCAyMDApLmFuaW1hdGUoeyBiYWNrZ3JvdW5kQ29sb3I6IG9yaWdpbmFsQmcgfSwgMjAwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gICRzY29wZS5jaGFuZ2VVc2VybmFtZSA9IGZ1bmN0aW9uICh1c2VybmFtZSkge1xyXG4gICAgVXNlclN2Yy5jaGFuZ2VVc2VybmFtZSgkc2NvcGUuY3VycmVudFVzZXIuX2lkLCB1c2VybmFtZSlcclxuICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAkc2NvcGUuJGVtaXQoJ3BvcHVwJywge1xyXG4gICAgICAgIG1lc3NhZ2U6ICdVc2VybmFtZSBjaGFuZ2VkIHRvICcgKyB1c2VybmFtZSxcclxuICAgICAgICB0eXBlOiAnYWxlcnQtc3VjY2VzcydcclxuICAgICAgfSk7XHJcbiAgICAgICRzY29wZS5jdXJyZW50VXNlci51c2VybmFtZSA9IHVzZXJuYW1lO1xyXG4gICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgJHNjb3BlLiRlbWl0KCdwb3B1cCcsIHtcclxuICAgICAgICBtZXNzYWdlOiB1c2VybmFtZSArICcgYWxyZWFkeSBpbiB1c2UnLFxyXG4gICAgICAgIHR5cGU6ICdhbGVydC1kYW5nZXInXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLnVwZGF0ZVVzZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBVc2VyU3ZjLnVwZGF0ZVVzZXIoJHNjb3BlLmN1cnJlbnRVc2VyKVxyXG4gICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICRzY29wZS4kZW1pdCgndXBkYXRlJywgcmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICRzY29wZS4kZW1pdCgncG9wdXAnLCB7XHJcbiAgICAgICAgbWVzc2FnZTogJ1Byb2ZpbGUgdXBkYXRlZCcsXHJcbiAgICAgICAgdHlwZTogJ2FsZXJ0LXN1Y2Nlc3MnXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ1NraWxsc0N0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkd2luZG93KSB7XHJcblxyXG4gICRzY29wZS5zZWxlY3RlZFNraWxsID0gMDtcclxuICAkc2NvcGUuc2tpbGxzVmlzaWJsZSA9IGZhbHNlO1xyXG5cclxuICAkc2NvcGUubGFiZWxzID0gW1wiRG93bmxvYWQgU2FsZXNcIiwgXCJJbi1TdG9yZSBTYWxlc1wiLCBcIk1haWwtT3JkZXIgU2FsZXNcIl07XHJcbiAgJHNjb3BlLmRhdGEgPSBbMzAwLCA1MDAsIDEwMF07XHJcblxyXG4gICQuZ2V0SlNPTignL3NraWxscy5qc29uJywgZnVuY3Rpb24oIGRhdGEgKSB7XHJcbiAgICAkc2NvcGUuc2tpbGxzID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24oc2tpbGwpIHtcclxuICAgICAgcmV0dXJuIHNraWxsLmVuYWJsZWQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkc2NvcGUuc2V0U2VsZWN0ZWRTa2lsbCA9IGZ1bmN0aW9uIChza2lsbCkge1xyXG4gICAgICAkc2NvcGUuc2VsZWN0ZWRTa2lsbCA9IHNraWxsO1xyXG4gICAgICAkc2NvcGUuc2VsZWN0ZWRTa2lsbC5jaGFydE9wdGlvbnMgPSB7XHJcbiAgICAgICAgY3V0b3V0UGVyY2VudGFnZSA6IDgwLFxyXG4gICAgICAgIGNpcmN1bWZlcmVuY2U6IDIgKiBNYXRoLlBJLFxyXG4gICAgICAgIG1haW50YWluQXNwZWN0UmF0aW86IHRydWUsXHJcbiAgICAgICAgdG9vbHRpcHM6IHtcclxuICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICAkc2NvcGUuc2VsZWN0ZWRTa2lsbC5jaGFydFN0eWxlID0ge1xyXG4gICAgICAgICdiYWNrZ3JvdW5kLWltYWdlJzogJ3VybCgvc2tpbGxzLycgKyAkc2NvcGUuc2VsZWN0ZWRTa2lsbC5pbWFnZSArICcpJyxcclxuICAgICAgICAnYmFja2dyb3VuZC1yZXBlYXQnOiAnbm8tcmVwZWF0JyxcclxuICAgICAgICAnYmFja2dyb3VuZC1zaXplJzogJzYwJScsXHJcbiAgICAgICAgJ2JhY2tncm91bmQtcG9zaXRpb24nOiAnNTAlIDUwJSdcclxuICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLnNldFNlbGVjdGVkU2tpbGwoJHNjb3BlLnNraWxsc1swXSk7XHJcblxyXG4gICAgLypcclxuICAgIGhhbGYgY2lyY2xlIHNraWxsIHdoZWVsIHRoYXQgZGlkbid0IHR1cm4gb3V0IGdyZWF0XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkaXNwbGF5OiAkc2NvcGUuc2tpbGxzVmlzaWJsZSA/ICdibG9jaycgOiAnbm9uZScsXHJcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICBsZWZ0OiAkc2NvcGUud2hlZWxXaWR0aCAvIDIgKiBNYXRoLmNvcyhpICogKE1hdGguUEkgLyAoJHNjb3BlLnNraWxscy5sZW5ndGggLSAxKSkpICsgJHNjb3BlLndoZWVsV2lkdGggLyAyIC0gJHNjb3BlLndoZWVsV2lkdGggKiAwLjAyNSxcclxuICAgICAgdG9wOiBNYXRoLnNpbihpICogKE1hdGguUEkgLyAoJHNjb3BlLnNraWxscy5sZW5ndGggLSAxKSkpICogJCgnLnNlbGVjdGVkLXNraWxsJykuaGVpZ2h0KCkgKiAyLjUsXHJcbiAgICAgIHdpZHRoOiAkc2NvcGUud2hlZWxXaWR0aCAqIDAuMDUsXHJcbiAgICAgIGhlaWdodDogJHNjb3BlLndoZWVsV2lkdGggKiAwLjA1XHJcbiAgICB9O1xyXG4gICAgKi9cclxuXHJcbiAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgfSk7XHJcblxyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdUb3BQcmlvcml0eUN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XHJcblxyXG4gIHZhciBjaG9pY2VzO1xyXG4gIHZhciBjaG9pY2U7XHJcbiAgdmFyIHBsYXllcnMgPSBbXTtcclxuICB2YXIgc2NvcmU7XHJcbiAgdmFyIGN1cnJlbnRBdmF0YXIgPSBbXTtcclxuICB2YXIgQVZBVEFSX1dJID0gODAwO1xyXG4gIHZhciBBVkFUQVJfSEkgPSA0MDA7XHJcbiAgdmFyIEFWQVRBUl9DT0xTID0gODtcclxuICB2YXIgQVZBVEFSX1JPV1MgPSA0O1xyXG5cclxuICAkc2NvcGUuZGVmYXVsdExpc3RzID0ge1xyXG4gICAgYmxhbms6IHtcclxuICAgICAgY2FwdGlvbjogJ0JsYW5rIExpc3QnLFxyXG4gICAgICBtZXNzYWdlOiAnV2hhdCBuZWVkcyB0byBiZSBwcmlvcml0aXplZD8nLFxyXG4gICAgICBsaXN0OiBbJycsICcnLCAnJ11cclxuICAgIH0sXHJcbiAgICBjaG9yZXM6IHtcclxuICAgICAgY2FwdGlvbjogJ0Nob3JlcycsXHJcbiAgICAgIG1lc3NhZ2U6ICdXaGF0IGNob3JlcyBuZWVkIHRvIGJlIGRvbmU/JyxcclxuICAgICAgbGlzdDogWydMYXVuZHJ5JywgJ0Rpc2hlcycsICdTd2VlcGluZycsICdHcm9jZXJpZXMnLCAnVGlkeSddXHJcbiAgICB9LFxyXG4gICAgcmVzdGF1cmFudHM6IHtcclxuICAgICAgY2FwdGlvbjogJ1Jlc3RhdXJhbnRzJyxcclxuICAgICAgbWVzc2FnZTogJ1doYXQgZG8geW91IHdhbnQgdG8gZWF0PycsXHJcbiAgICAgIGxpc3Q6IFsnQ2hpbmVzZScsICdKYXBhbmVzZScsICdBbWVyaWNhbicsICdJbmRpYW4nLCAnR3JlZWsnLCAnSXRhbGlhbicsICdLb3JlYW4nLCAnVGhhaScsICdWaWV0bmFtZXNlJywgJ01leGljYW4nXVxyXG4gICAgfSxcclxuICAgIHBva2Vtb246IHtcclxuICAgICAgY2FwdGlvbjogJ1Bva2Vtb24nLFxyXG4gICAgICBtZXNzYWdlOiAnV2hpY2ggZG8geW91IGdvdHRhIGNhdGNoPycsXHJcbiAgICAgIGxpc3Q6IFsnUGlrYWNodScsICdTcXVpcnRsZScsICdDaGFybWFuZGVyJywgJ0J1bGJhc2F1cicsICdQaWRnZW90dG8nLCAnU25vcmxheCddXHJcbiAgICB9LFxyXG4gICAgZ2VucmVzOiB7XHJcbiAgICAgIGNhcHRpb246ICdNb3ZpZSBHZW5yZXMnLFxyXG4gICAgICBtZXNzYWdlOiAnV2hhdCBzaGFsbCB3ZSB3YXRjaCB0b25pZ2h0PycsXHJcbiAgICAgIGxpc3Q6IFsnQ29tZWR5JywgJ0RyYW1hJywgJ1RocmlsbGVyJywgJ0FjdGlvbicsICdIb3Jyb3InLCAnQW5pbWF0ZWQnLCAnQWR2ZW50dXJlJywgJ0RvY3VtZW50YXJ5JywgJ011c2ljYWwnLCAnU2NpZW5jZSBGaWN0aW9uJ11cclxuICAgIH0sXHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLmxpc3QgPSBbXTtcclxuXHJcbiAgJHNjb3BlLmNob29zZV90eXBlID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICQoJyNUeXBlU2VjdGlvbicpLmhpZGUoKTtcclxuICAgICRzY29wZS5saXN0ID0gJHNjb3BlLmRlZmF1bHRMaXN0c1tuYW1lXS5saXN0Lm1hcChmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgIHJldHVybiB7IGl0ZW06IGl0ZW0gfTtcclxuICAgIH0pO1xyXG4gICAgJCgnI0lucHV0VGl0bGUnKS50ZXh0KCRzY29wZS5kZWZhdWx0TGlzdHNbbmFtZV0ubWVzc2FnZSk7XHJcbiAgICAkKCcjSW5wdXRTZWN0aW9uJykuc2hvdygpO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5yZW1vdmVMaXN0SXRlbSA9IGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICAkc2NvcGUubGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5hZGRMaXN0SXRlbSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgJHNjb3BlLmxpc3QucHVzaCh7IGl0ZW06ICcnIH0pO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5jaG9vc2VfYXZhdGFyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAvL0Nob29zaW5nIGFuIGF2YXRhciBjcmVhdGVzIGEgbmV3IHBsYXllclxyXG4gICAgcGxheWVyc1twbGF5ZXJzLmxlbmd0aF0gPSBuZXcgUGxheWVyKGN1cnJlbnRBdmF0YXJbMF0sIGN1cnJlbnRBdmF0YXJbMV0pO1xyXG4gICAgcGxheWVyc1twbGF5ZXJzLmxlbmd0aCAtIDFdLnNldFRhc2tzKHNjb3JlLnRhc2tzKTtcclxuICAgICRzY29wZS5wcmlvcml0aXplKCk7XHJcbiAgfTtcclxuXHJcbiAgLy9UYXNrIENsYXNzXHJcbiAgZnVuY3Rpb24gVGFzayhuYW1lKSB7XHJcbiAgICB0aGlzLnNjb3JlID0gMDtcclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcblxyXG4gICAgdGhpcy5jaG9vc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHRoaXMuc2NvcmUrKztcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvL1Njb3JlIENsYXNzIChrZWVwcyB0cmFjayBvZmYgb3ZlcmFsbCBzY29yZSlcclxuICBmdW5jdGlvbiBTY29yZShsaXN0KSB7XHJcbiAgICB0aGlzLnRhc2tzID0gW107XHJcblxyXG4gICAgZm9yICh2YXIgaSBpbiBsaXN0KSB7XHJcbiAgICAgIHRoaXMudGFza3NbaV0gPSBuZXcgVGFzayhsaXN0W2ldLml0ZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY2hvb3NlID0gZnVuY3Rpb24oY2hvaWNlKSB7XHJcbiAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50YXNrcykge1xyXG4gICAgICAgIGlmICh0aGlzLnRhc2tzW2ldLm5hbWUgPT0gY2hvaWNlKSB7XHJcbiAgICAgICAgICB0aGlzLnRhc2tzW2ldLmNob29zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vUGxheWVyIENsYXNzIChrZWVwcyB0cmFjayBvZiBhdmF0YXJzIGFuZCBjaG9pY2VzKVxyXG4gIGZ1bmN0aW9uIFBsYXllcih4LCB5KSB7XHJcblxyXG4gICAgdGhpcy5hdmF0YXIgPSBbeCwgeV07XHJcbiAgICB0aGlzLm5hbWUgPSAnJztcclxuICAgIHRoaXMudGFza3MgPSBbXTtcclxuXHJcbiAgICB0aGlzLnNldFRhc2tzID0gZnVuY3Rpb24obGlzdCkge1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB0aGlzLnRhc2tzW2ldID0gbmV3IFRhc2sobGlzdFtpXS5uYW1lKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNob29zZSA9IGZ1bmN0aW9uKGNob2ljZSkge1xyXG4gICAgICBmb3IgKHZhciBpIGluIHRoaXMudGFza3MpIHtcclxuICAgICAgICBpZiAodGhpcy50YXNrc1tpXS5uYW1lID09IGNob2ljZSkge1xyXG4gICAgICAgICAgdGhpcy50YXNrc1tpXS5jaG9vc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zY29yZSA9IGZ1bmN0aW9uKGNob2ljZSkge1xyXG4gICAgICBmb3IgKHZhciBpIGluIHRoaXMudGFza3MpIHtcclxuICAgICAgICBpZiAodGhpcy50YXNrc1tpXS5uYW1lID09IGNob2ljZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMudGFza3NbaV0uc2NvcmU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy9UcmlnZ2VyZWQgYnkgJ1N0YXJ0IFByaW9yaXRpemluZycgYnV0dG9uXHJcbiAgJHNjb3BlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy9HZXQgcmlkIG9mIGJsYW5rc1xyXG4gICAgJHNjb3BlLmxpc3QgPSAkc2NvcGUubGlzdC5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICByZXR1cm4gaXRlbS5pdGVtO1xyXG4gICAgfSk7XHJcbiAgICAvL0NoZWNrIGlmIGFsbCB2YWx1ZXMgYXJlIHVuaXF1ZVxyXG4gICAgdmFyIHVuaXF1ZSA9IGNoZWNrSWZBcnJheUlzVW5pcXVlKCRzY29wZS5saXN0KTtcclxuICAgIGlmICgkc2NvcGUubGlzdC5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgYWxlcnQoJ09pLCB0aGVyZVxcJ3JlIDIgdGV4dGJveGVzIGZvciBhIHJlYXNvbiEnKTtcclxuICAgICAgICAkc2NvcGUuY2hvb3NlX3R5cGUoJ2JsYW5rJyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBlbHNlIGlmICh1bmlxdWUgIT09IHRydWUpIHtcclxuICAgICAgICBhbGVydCgnU2VlbXMgbGlrZSB5b3UgcHJlZmVyICcgKyB1bmlxdWUgKyAnLicpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vQmVsb3cgaXMgb25seSByZWFjaGVkIHdoZW4gdGhlcmUgYXJlIGF0IGxlYXN0IDIgdGFza3MgYW5kIGFsbCB0YXNrcyBhcmUgdW5pcXVlXHJcbiAgICAkKCcjSW5wdXRTZWN0aW9uJykuaGlkZSgpO1xyXG4gICAgLy9DcmVhdGUgZ2xvYmFsIHZhcmlhYmxlcyBmb3IgdGhpcyBwcmlvcml0aXphdGlvblxyXG4gICAgcGxheWVycyA9IFtdO1xyXG4gICAgc2NvcmUgPSBuZXcgU2NvcmUoJHNjb3BlLmxpc3QpO1xyXG4gICAgcmFuZG9tX2F2YXRhcigpO1xyXG4gICAgJCgnLlRvcCcpLnNsaWRlRG93bignc2xvdycpO1xyXG4gICAgJCgnI0F2YXRhclNlY3Rpb24nKS5mYWRlSW4oKTtcclxuXHJcbiAgfTtcclxuXHJcbiAgLy9UcmlnZ2VyZWQgd2hlbiBhbiBhdmF0YXIgaXMgY2hvc2VuXHJcbiAgJHNjb3BlLnByaW9yaXRpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgaSwgaiwgbCwgdDtcclxuICAgIHQgPSAwO1xyXG4gICAgbCA9IHNjb3JlLnRhc2tzLmxlbmd0aDtcclxuICAgIGNob2ljZXMgPSBbXTtcclxuICAgICQoJyNBdmF0YXJTZWN0aW9uJykuaGlkZSgpO1xyXG4gICAgLy9NYWtlIGEgbmV3IGNob2ljZSBsaXN0XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbCAtIDE7IGkrKykge1xyXG4gICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGw7IGorKykge1xyXG4gICAgICAgIGNob2ljZXNbdF0gPSBbXTtcclxuICAgICAgICBjaG9pY2VzW3RdWzBdID0gc2NvcmUudGFza3NbaV0ubmFtZTtcclxuICAgICAgICBjaG9pY2VzW3RdWzFdID0gc2NvcmUudGFza3Nbal0ubmFtZTtcclxuICAgICAgICBjaG9pY2VzW3RdWzJdID0gMDtcclxuICAgICAgICB0Kys7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vU2h1ZmZsZSB3aWxsIHJhbmRvbWl6ZSBhbGwgY2hvaWNlcyBiZWZvcmUgZGlzcGxheWluZ1xyXG4gICAgc2h1ZmZsZShjaG9pY2VzKTtcclxuICAgICRzY29wZS5uZXdfY2hvaWNlKCk7XHJcbiAgICAkKCcjUHJpb3JpdGl6ZVNlY3Rpb24nKS5mYWRlSW4oKTtcclxuICB9O1xyXG5cclxuICAvL1RyaWdnZXJlZCB3aGVuICdQYXNzIHRvIE5leHQgUGxheWVyJyBpcyBjaG9zZW5cclxuICAkc2NvcGUubmV4dF9wbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQoJyNSZXN1bHRTZWN0aW9uJykuaGlkZSgpO1xyXG4gICAgICAkKCcjYnRuTXVsdGlwbGF5ZXInKS52YWwoJ0ZpbmFsIHJlc3VsdHMnKTtcclxuICAgICAgcmFuZG9tX2F2YXRhcigpO1xyXG4gICAgICAkKCcjQXZhdGFyU2VjdGlvbicpLmZhZGVJbigpO1xyXG4gIH07XHJcblxyXG4gIC8vVXNlZCB0byBpbnRlcnByZXRlIHRoZSBidXR0b24gb24gdGhlIHJlc3VsdHMgcGFnZSAtPiBmaW5hbCByZXN1bHRzIHBhZ2UgaXMgdXNlbGVzcyB3aXRoIDEgcGxheWVyLlxyXG4gICRzY29wZS5tdWx0aXBsYXllciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChwbGF5ZXJzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAkc2NvcGUucmVzdGFydCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJHNjb3BlLmZpbmFsX3Jlc3VsdHMoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvL1RyaWdnZXJlZCB3aGVuIHRoZSAnUmVzdGFydCcgYnV0dG9uIGlzIGNsaWNrZWRcclxuICAkc2NvcGUucmVzdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgJCgnI1Jlc3VsdFNlY3Rpb24nKS5oaWRlKCk7XHJcbiAgICAgICQoJyNGaW5hbFNlY3Rpb24nKS5oaWRlKCk7XHJcbiAgICAgICQoJy5Ub3AnKS5zbGlkZVVwKCk7XHJcbiAgICAgIC8vVGhpcyB3aWxsIHJlc2V0IHRoZSB0ZXh0Ym94ZXMgdG8gMiBhbmQgZW1wdHkgdGhlbVxyXG4gICAgICAkKCcuTGlzdEl0ZW0nKS52YWwoJycpO1xyXG4gICAgICB3aGlsZSAoJCgnLkxpc3RJdGVtJykubGVuZ3RoID4gMikge1xyXG4gICAgICAgICAgJCgnLkxpc3RJdGVtJykubGFzdCgpLnBhcmVudCgpLnJlbW92ZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIC8vQ2xlYXIgdGhlIGZpbmFsIHJlc3VsdHNcclxuICAgICAgJCgnI0ZpbmFsUmVzdWx0TGlzdCB0aCcpLnJlbW92ZSgpO1xyXG4gICAgICAkKCcjRmluYWxSZXN1bHRMaXN0IHRyJykucmVtb3ZlKCk7XHJcbiAgICAgICQoJyNidG5NdWx0aXBsYXllcicpLnZhbCgnUmVzdGFydCcpO1xyXG4gICAgICAkKCcjVHlwZVNlY3Rpb24nKS5mYWRlSW4oKTtcclxuICAgICAgJCgnLkxpc3RJdGVtJykuZmlyc3QoKS5mb2N1cygpO1xyXG4gIH07XHJcblxyXG4gIC8vU2h1ZmZsZXMgYXJyYXlzXHJcbiAgZnVuY3Rpb24gc2h1ZmZsZShhcnJheSkge1xyXG4gICAgdmFyIGN1cnJlbnRJbmRleCA9IGFycmF5Lmxlbmd0aCxcclxuICAgICAgdGVtcG9yYXJ5VmFsdWUsIHJhbmRvbUluZGV4O1xyXG4gICAgd2hpbGUgKDAgIT09IGN1cnJlbnRJbmRleCkge1xyXG4gICAgICByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGN1cnJlbnRJbmRleCk7XHJcbiAgICAgIGN1cnJlbnRJbmRleCAtPSAxO1xyXG4gICAgICB0ZW1wb3JhcnlWYWx1ZSA9IGFycmF5W2N1cnJlbnRJbmRleF07XHJcbiAgICAgIGFycmF5W2N1cnJlbnRJbmRleF0gPSBhcnJheVtyYW5kb21JbmRleF07XHJcbiAgICAgIGFycmF5W3JhbmRvbUluZGV4XSA9IHRlbXBvcmFyeVZhbHVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFycmF5O1xyXG4gIH1cclxuXHJcbiAgLy9Tb3J0cyAyIHZhbHVlc1xyXG4gIGZ1bmN0aW9uIHNvcnRGdW5jdGlvbihhLCBiKSB7XHJcbiAgICAgIGlmIChhWzBdID09PSBiWzBdKSB7XHJcbiAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiAoYVswXSA8IGJbMF0pID8gLTEgOiAxO1xyXG4gICAgICB9XHJcbiAgfVxyXG5cclxuICAvL0NoZWNrcyBpZiBhbGwgdmFsdWVzIGFyZSB1bmlxdWUgaW4gYW4gYXJyYXlcclxuICBmdW5jdGlvbiBjaGVja0lmQXJyYXlJc1VuaXF1ZShhcnIpIHtcclxuICAgICAgdmFyIG1hcCA9IHt9LCBpLCBzaXplO1xyXG5cclxuICAgICAgZm9yIChpIGluIGFycil7XHJcbiAgICAgICAgICBpZiAobWFwW2FycltpXS5pdGVtXSl7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGFycltpXS5pdGVtO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIG1hcFthcnJbaV0uaXRlbV0gPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8vVHJpZ2dlcmVkIHdoZW4gdGhlIGNob2ljZSBidXR0b25zIG5lZWQgdG8gYmUgZmlsbGVkXHJcbiAgJHNjb3BlLm5ld19jaG9pY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBpLCBwZXJjZW50YWdlO1xyXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgY2hvaWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgLy9DaGFuZ2VzIHRoZSBidXR0b25zIHRvIHRoZSBuZXh0IGNob2ljZVxyXG4gICAgICAgICAgaWYgKGNob2ljZXNbaV1bMl0gPT09IDApIHtcclxuICAgICAgICAgICAgICB2YXIgcmFuZG9tQ2hvaWNlID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKTtcclxuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hvaWNlMScpLnZhbHVlID0gY2hvaWNlc1tpXVtyYW5kb21DaG9pY2VdO1xyXG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaG9pY2UyJykudmFsdWUgPSBjaG9pY2VzW2ldWzEgLSByYW5kb21DaG9pY2VdO1xyXG4gICAgICAgICAgICAgIGNob2ljZSA9IGk7XHJcbiAgICAgICAgICAgICAgLy9JbmNyZWFzZXMgdGhlIHByb2dyZXNzIGJhclxyXG4gICAgICAgICAgICAgIHBlcmNlbnRhZ2UgPSBNYXRoLnJvdW5kKChpICogMTAwIC8gY2hvaWNlcy5sZW5ndGgpKTtcclxuICAgICAgICAgICAgICAkKCcucHJvZ3Jlc3MtYmFyJykuY3NzKCd3aWR0aCcsIHBlcmNlbnRhZ2UgKyAnJScpLmF0dHIoJ2FyaWEtdmFsdWVub3cnLCBwZXJjZW50YWdlKTtcclxuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQ2hvaWNlc0xlZnQnKS5pbm5lckhUTUwgPSBwZXJjZW50YWdlICsgJyUnO1xyXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gIH07XHJcblxyXG4gIC8vVHJpZ2dlcmVkIHdoZW4gYSBjaG9pY2UgaXMgbWFkZVxyXG4gICRzY29wZS5jaG9vc2UgPSBmdW5jdGlvbiAoYnV0dG9uKSB7XHJcbiAgICAgIHZhciBpO1xyXG4gICAgICAvL0luY3JlYXNlIHRoZSBzY29yZXMgZm9yIHRob3NlIGJ1dHRvbnNcclxuICAgICAgc2NvcmUuY2hvb3NlKGNob2ljZXNbY2hvaWNlXVtidXR0b25dKTtcclxuICAgICAgcGxheWVyc1twbGF5ZXJzLmxlbmd0aCAtIDFdLmNob29zZShjaG9pY2VzW2Nob2ljZV1bYnV0dG9uXSk7XHJcbiAgICAgIC8vTWFyayB0aGUgY2hvaWNlIG1hZGVcclxuICAgICAgY2hvaWNlc1tjaG9pY2VdWzJdID0gMTtcclxuICAgICAgLy9DaGVjayBpZiBpdCB3YXMgdGhlIGxhc3QgY2hvaWNlLCBpZiBzbywgZ28gdG8gcmVzdWx0c1xyXG4gICAgICB2YXIgZmluaXNoZWQgPSAxO1xyXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgY2hvaWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChjaG9pY2VzW2ldWzJdID09PSAwKSB7XHJcbiAgICAgICAgICBmaW5pc2hlZCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChmaW5pc2hlZCA9PSAxKSB7XHJcbiAgICAgICAgcmVzdWx0cygpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICRzY29wZS5uZXdfY2hvaWNlKCk7XHJcbiAgICAgIH1cclxuICB9O1xyXG5cclxuICAvL1RyaWdnZXJlZCB3aGVuIGFsbCBjaG9pY2VzIGFyZSBtYWRlXHJcbiAgZnVuY3Rpb24gcmVzdWx0cygpIHtcclxuICAgICAgLy9TZXQgcHJvZ3Jlc3MgYmFyIHRvIDEwMCwgdGhpcyBnb2VzIHRvbyBxdWlja2x5LCBwZXJoYXBzIEkgY2FuIGZpbmQgYSB3YXkgdG8gZGVsYXkgdGhlIHJlc3RcclxuICAgICAgJCgnLnByb2dyZXNzLWJhcicpLmNzcygnd2lkdGgnLCAnMTAwJScpLmF0dHIoJ2FyaWEtdmFsdWVub3cnLCAxMDApO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQ2hvaWNlc0xlZnQnKS5pbm5lckhUTUwgPSAnMTAwJSc7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdSZXN1bHRMaXN0JykuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICQoJyNQcmlvcml0aXplU2VjdGlvbicpLmhpZGUoKTtcclxuICAgICAgdmFyIGksIGosIHRvdGFsLCBwbGF5ZXI7XHJcbiAgICAgIHBsYXllciA9IHBsYXllcnMubGVuZ3RoIC0gMTtcclxuICAgICAgLy9Tb3J0IHRoZSBwbGF5ZXJzIHNjb3Jlc1xyXG4gICAgICBwbGF5ZXJzW3BsYXllcl0udGFza3Muc29ydChmdW5jdGlvbiAoYiwgYSkge1xyXG4gICAgICAgICAgcmV0dXJuIGFbMF0gLSBiWzBdO1xyXG4gICAgICB9KTtcclxuICAgICAgLy9NYWtlIGFuIHVub3JkZXJlZCBsaXN0IHdpdGggdGhlIHBsYXllcidzIHNjb3Jlc1xyXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgcGxheWVyc1twbGF5ZXJdLnRhc2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0xJJyk7ICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSA8bGk+IG5vZGVcclxuICAgICAgICAgIHZhciB0ZXh0bm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHBsYXllcnNbcGxheWVyXS50YXNrc1tpXS5uYW1lICsgJzogJyArIHBsYXllcnNbcGxheWVyXS50YXNrc1tpXS5zY29yZSArICcgdm90ZScgKyAocGxheWVyc1twbGF5ZXJdLnRhc2tzW2ldLnNjb3JlID09IDEgPyAnJyA6ICdzJykpOyAgICAgLy8gQ3JlYXRlIGEgdGV4dCBub2RlXHJcbiAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKHRleHRub2RlKTtcclxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdSZXN1bHRMaXN0JykuYXBwZW5kQ2hpbGQobm9kZSk7XHJcbiAgICAgIH1cclxuICAgICAgJCgnI1Jlc3VsdFNlY3Rpb24nKS5mYWRlSW4oKTtcclxuICB9XHJcblxyXG4gIC8vVHJpZ2dlcmVkIHdoZW4gJ0ZpbmFsIFJlc3VsdHMnIGlzIGNsaWNrZWQuIENhbm5vdCBiZSByZWFjaGVkIGlmIHRoZXJlJ3Mgb25seSAxIHBsYXllclxyXG4gICRzY29wZS5maW5hbF9yZXN1bHRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAkKCcjUmVzdWx0U2VjdGlvbicpLmhpZGUoKTtcclxuICAgICAgJCgnLlRvcCcpLnNsaWRlVXAoKTtcclxuICAgICAgdmFyIGksIGosIHRvdGFsO1xyXG4gICAgICAvL1NvcnRzIHRoZSBmaW5hbCBzY29yZXNcclxuICAgICAgc2NvcmUudGFza3Muc29ydChmdW5jdGlvbiAoYiwgYSkge1xyXG4gICAgICAgICAgcmV0dXJuIGFbMF0gLSBiWzBdO1xyXG4gICAgICB9KTtcclxuICAgICAgLy9DcmVhdGUgYSBoZWFkZXIgcm93IHRoYXQgd2l0aCBhbGwgdGhlIHBsYXllcnMgYXZhdGFyc1xyXG4gICAgICB2YXIgdGFibGVIZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnVEhFQUQnKTtcclxuICAgICAgdmFyIGhlYWRlclJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1RSJyk7XHJcbiAgICAgIGhlYWRlclJvdy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdUSCcpKTtcclxuICAgICAgZm9yIChpID0gMDsgaSA8IHBsYXllcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHZhciB0aCA9ICd0aCcgKyBpO1xyXG4gICAgICAgICAgdmFyIGNvbEhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1RIJyk7XHJcbiAgICAgICAgICBjb2xIZWFkZXIuc2V0QXR0cmlidXRlKCdpZCcsIHRoKTtcclxuICAgICAgICAgIGNvbEhlYWRlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKFxcJ2h0dHA6Ly9pLmltZ3VyLmNvbS9JY1A1RjFtLnBuZ1xcJyknO1xyXG4gICAgICAgICAgY29sSGVhZGVyLnN0eWxlLndpZHRoID0gNTA7XHJcbiAgICAgICAgICBjb2xIZWFkZXIuc3R5bGUuaGVpZ2h0ID0gNjU7XHJcbiAgICAgICAgICBjb2xIZWFkZXIuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gKC1wbGF5ZXJzW2ldLmF2YXRhclswXSAqIChBVkFUQVJfV0kvQVZBVEFSX0NPTFMpKSArICdweCAnICsgKC1wbGF5ZXJzW2ldLmF2YXRhclsxXSAqIChBVkFUQVJfSEkvQVZBVEFSX1JPV1MpKSArICdweCc7XHJcbiAgICAgICAgICBoZWFkZXJSb3cuYXBwZW5kQ2hpbGQoY29sSGVhZGVyKTtcclxuICAgICAgfVxyXG4gICAgICAvL0FkZCBhIHRvdGFsIGNvbHVtblxyXG4gICAgICB2YXIgY29sVG90YWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdURCcpO1xyXG4gICAgICBjb2xUb3RhbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnVG90YWwnKSk7XHJcbiAgICAgIGNvbFRvdGFsLnN0eWxlLmhlaWdodCA9IDY1O1xyXG4gICAgICBoZWFkZXJSb3cuYXBwZW5kQ2hpbGQoY29sVG90YWwpO1xyXG4gICAgICB0YWJsZUhlYWQuYXBwZW5kQ2hpbGQoaGVhZGVyUm93KTtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0ZpbmFsUmVzdWx0TGlzdCcpLmFwcGVuZENoaWxkKHRhYmxlSGVhZCk7XHJcbiAgICAgIHZhciB0YWJsZUJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdUQk9EWScpO1xyXG4gICAgICAvL0NyZWF0ZSBhbGwgdGhlIHJvd3MgZm9yIGFsbCB0aGUgY2hvaWNlcyBhbmQgYWRkIGFsbCB0aGUgcGxheWVycycgc2NvcmVzXHJcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBzY29yZS50YXNrcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgdmFyIHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1RSJyk7XHJcbiAgICAgICAgICB2YXIgcm93SGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnVEQnKTtcclxuICAgICAgICAgIHJvd0hlYWRlci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzY29yZS50YXNrc1tpXS5uYW1lKSk7XHJcbiAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQocm93SGVhZGVyKTtcclxuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBwbGF5ZXJzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdURCcpO1xyXG4gICAgICAgICAgICAgIGNlbGwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocGxheWVyc1tqXS5zY29yZShzY29yZS50YXNrc1tpXS5uYW1lKSkpO1xyXG4gICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vRmlsbCB0aGUgdG90YWwgcm93XHJcbiAgICAgICAgICB2YXIgcm93VG90YWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdURCcpO1xyXG4gICAgICAgICAgcm93VG90YWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc2NvcmUudGFza3NbaV0uc2NvcmUpKTtcclxuICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChyb3dUb3RhbCk7XHJcbiAgICAgICAgICB0YWJsZUJvZHkuYXBwZW5kQ2hpbGQocm93KTtcclxuICAgICAgfVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnRmluYWxSZXN1bHRMaXN0JykuYXBwZW5kQ2hpbGQodGFibGVCb2R5KTtcclxuICAgICAgJCgnI0ZpbmFsU2VjdGlvbicpLmZhZGVJbigpO1xyXG4gIH07XHJcblxyXG4gIC8vVHJpZ2dlcmVkIHdoZW4gdGhlIHBhZ2UgaXMgbG9hZGVkXHJcbiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgbWF4X2ZpZWxkcyA9IDEwOyAvL21heGltdW0gaW5wdXQgYm94ZXMgYWxsb3dlZFxyXG5cclxuICAgICAgJCgnLkxpc3RJdGVtJykuZmlyc3QoKS5mb2N1cygpO1xyXG5cclxuICAgICAgJCgnI0F2YXRhcnMnKS5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICB2YXIgb2Zmc2V0ID0gJCh0aGlzKS5vZmZzZXQoKTtcclxuICAgICAgICAgIHZhciBpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQXZhdGFycycpO1xyXG4gICAgICAgICAgLy9vciBob3dldmVyIHlvdSBnZXQgYSBoYW5kbGUgdG8gdGhlIElNR1xyXG4gICAgICAgICAgdmFyIHdpZHRoID0gaW1nLmNsaWVudFdpZHRoO1xyXG4gICAgICAgICAgdmFyIGhlaWdodCA9IGltZy5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgICB2YXIgbG9jYXRpb25YID0gKGUucGFnZVggLSAkKHRoaXMpLm9mZnNldCgpLmxlZnQpL3dpZHRoKkFWQVRBUl9XSTtcclxuICAgICAgICAgIGxvY2F0aW9uWCA9IE1hdGguZmxvb3IobG9jYXRpb25YIC8gKEFWQVRBUl9XSS9BVkFUQVJfQ09MUykpO1xyXG4gICAgICAgICAgdmFyIGxvY2F0aW9uWSA9IChlLnBhZ2VZIC0gJCh0aGlzKS5vZmZzZXQoKS50b3ApL2hlaWdodCpBVkFUQVJfSEk7XHJcbiAgICAgICAgICBsb2NhdGlvblkgPSBNYXRoLmZsb29yKGxvY2F0aW9uWSAvIChBVkFUQVJfSEkvQVZBVEFSX1JPV1MpKTtcclxuICAgICAgICAgIGNoZWNrX2F2YXRhcihsb2NhdGlvblgsIGxvY2F0aW9uWSk7XHJcbiAgICAgIH0pO1xyXG5cclxuXHJcbiAgfSk7XHJcblxyXG4gIGZ1bmN0aW9uIHJhbmRvbV9hdmF0YXIoKSB7XHJcbiAgICAgIHZhciB1c2VkID0gdHJ1ZTtcclxuICAgICAgdmFyIHgsIHk7XHJcbiAgICAgIHdoaWxlICh1c2VkKSB7XHJcbiAgICAgICAgICB1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgICB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogQVZBVEFSX0NPTFMpO1xyXG4gICAgICAgICAgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIEFWQVRBUl9ST1dTKTtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGxheWVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgIGlmIChwbGF5ZXJzW2ldLmF2YXRhclswXSA9PSB4ICYmIHBsYXllcnNbaV0uYXZhdGFyWzFdID09IHkpIHtcclxuICAgICAgICAgICAgICAgICAgdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHNldF9hdmF0YXIoJyNBdmF0YXInLCB4LCB5KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNoZWNrX2F2YXRhcih4LCB5KSB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBsYXllcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHBsYXllcnNbaV0uYXZhdGFyWzBdID09IHggJiYgcGxheWVyc1tpXS5hdmF0YXJbMV0gPT0geSkge1xyXG4gICAgICAgIGFsZXJ0KCdDb3B5Y2F0IScpO1xyXG4gICAgICAgIHJhbmRvbV9hdmF0YXIoKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHNldF9hdmF0YXIoJyNBdmF0YXInLCB4LCB5KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNldF9hdmF0YXIobG9jYXRpb24sIHgsIHkpIHtcclxuICAgICAgJChsb2NhdGlvbikuY3NzKCdiYWNrZ3JvdW5kLXBvc2l0aW9uLXgnLCAteCAqIChBVkFUQVJfV0kvQVZBVEFSX0NPTFMpKTtcclxuICAgICAgJChsb2NhdGlvbikuY3NzKCdiYWNrZ3JvdW5kLXBvc2l0aW9uLXknLCAteSAqIChBVkFUQVJfSEkvQVZBVEFSX1JPV1MpKTtcclxuICAgICAgY3VycmVudEF2YXRhclswXSA9IHg7XHJcbiAgICAgIGN1cnJlbnRBdmF0YXJbMV0gPSB5O1xyXG4gIH1cclxuXHJcblxyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdXb3Jrb3V0Q3RybCcsIGZ1bmN0aW9uICgkc2NvcGUpIHtcclxuXHJcbiAgJHNjb3BlLnRpbWVSZW1haW5pbmcgPSAwO1xyXG4gICRzY29wZS5yZXN0ID0gZmFsc2U7XHJcblxyXG4gIHZhciBleGVyY2lzZXMgPSBbXHJcbiAgICB7bmFtZTogJ0p1bXBpbmcgSmFja3MnLCBzcGxpdDogZmFsc2V9LFxyXG4gICAge25hbWU6ICdXYWxsIFNpdCcsIHNwbGl0OiBmYWxzZX0sXHJcbiAgICB7bmFtZTogJ1B1c2gtVXAnLCBzcGxpdDogZmFsc2V9LFxyXG4gICAge25hbWU6ICdDcnVuY2gnLCBzcGxpdDogZmFsc2V9LFxyXG4gICAge25hbWU6ICdTdGVwLVVwJywgc3BsaXQ6IHRydWV9LFxyXG4gICAge25hbWU6ICdTcXVhdCcsIHNwbGl0OiBmYWxzZX0sXHJcbiAgICB7bmFtZTogJ1RyaWNlcHMgRGlwJywgc3BsaXQ6IGZhbHNlfSxcclxuICAgIHtuYW1lOiAnUGxhbmsnLCBzcGxpdDogZmFsc2V9LFxyXG4gICAge25hbWU6ICdIaWdoIEtuZWVzJywgc3BsaXQ6IGZhbHNlfSxcclxuICAgIHtuYW1lOiAnTHVuZ2UnLCBzcGxpdDogZmFsc2V9LFxyXG4gICAge25hbWU6ICdQdXNoLVVwIHdpdGggUm90YXRpb24nLCBzcGxpdDogZmFsc2V9LFxyXG4gICAge25hbWU6ICdTaWRlIFBsYW5rJywgc3BsaXQ6IHRydWV9XHJcbiAgXTtcclxuXHJcbiAgICB2YXIgZXhlcmNpc2luZztcclxuXHJcbiAgJHNjb3BlLndvcmtvdXQgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICghJHNjb3BlLnRpbWVSZW1haW5pbmcpIHtcclxuICAgICAgJHNjb3BlLnRpbWVSZW1haW5pbmcgPSBleGVyY2lzZXMubGVuZ3RoICogNDU7XHJcbiAgICAgIGV4ZXJjaXNpbmcgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuICAgICAgICAkc2NvcGUudGltZVJlbWFpbmluZy0tO1xyXG4gICAgICAgIGlmICgkc2NvcGUudGltZVJlbWFpbmluZyA9PT0gMCkge1xyXG4gICAgICAgICAgJHNjb3BlLmV4ZXJjaXNlID0ge25hbWU6ICdGaW5pc2hlZCEgQ29uZ3JhdHMhJywgc3BsaXQ6IGZhbHNlfTtcclxuICAgICAgICAgICRzY29wZS50aW1lciA9ICcnO1xyXG4gICAgICAgICAgJHNjb3BlLnRpbWVSZW1haW5pbmcgPSAwO1xyXG4gICAgICAgICAgJHNjb3BlLnJlc3QgPSBmYWxzZTtcclxuICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgIHJldHVybiBjbGVhckludGVydmFsKGV4ZXJjaXNpbmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY3VycmVudEV4ZXJjaXNlID0gTWF0aC5mbG9vcigkc2NvcGUudGltZVJlbWFpbmluZyAvIDQ1KTtcclxuICAgICAgICB2YXIgdGltZXIgPSAkc2NvcGUudGltZVJlbWFpbmluZyAtIGN1cnJlbnRFeGVyY2lzZSAqIDQ1O1xyXG4gICAgICAgICRzY29wZS50aW1lciA9IHRpbWVyID4gMzAgPyB0aW1lciAtIDMwIDogdGltZXI7XHJcbiAgICAgICAgaWYgKHRpbWVyID4gMzApIHtcclxuICAgICAgICAgICRzY29wZS5yZXN0ID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJHNjb3BlLnJlc3QgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJHNjb3BlLmV4ZXJjaXNlID0gZXhlcmNpc2VzW2V4ZXJjaXNlcy5sZW5ndGggLSBjdXJyZW50RXhlcmNpc2UgLSAxXTtcclxuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgIH0sIDEwMDApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbChleGVyY2lzaW5nKTtcclxuICAgICAgJHNjb3BlLnRpbWVyID0gJyc7XHJcbiAgICAgICRzY29wZS50aW1lUmVtYWluaW5nID0gMDtcclxuICAgICAgJHNjb3BlLnJlc3QgPSBmYWxzZTtcclxuICAgICAgJHNjb3BlLmV4ZXJjaXNlID0ge25hbWU6ICcnLCBzcGxpdDogZmFsc2V9O1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcblx0LmRpcmVjdGl2ZSgnaGVhZCcsIFtcclxuXHRcdCckcm9vdFNjb3BlJyxcclxuXHRcdCckc3RhdGUnLFxyXG5cdFx0JyRjb21waWxlJyxcclxuXHRcdCckaW50ZXJwb2xhdGUnLFxyXG5cdFx0ZnVuY3Rpb24gKCRyb290U2NvcGUsICRzdGF0ZSwgJGNvbXBpbGUsICRpbnRlcnBvbGF0ZSkge1xyXG5cclxuXHRcdFx0dmFyIGdldFN0eWxlID0gZnVuY3Rpb24gZ2V0U3R5bGUodGVtcGxhdGVTdHlsZVVybCkge1xyXG5cclxuXHRcdFx0XHR2YXIgc3R5bGUgPSB7XHJcblx0XHRcdFx0XHRocmVmOiB0ZW1wbGF0ZVN0eWxlVXJsLFxyXG5cdFx0XHRcdFx0cmVsOiAnc3R5bGVzaGVldCdcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRpZiAoc3R5bGUuaHJlZi5tYXRjaCgvXFwubGVzcyQvKSkge1xyXG5cdFx0XHRcdFx0c3R5bGUucmVsID0gJ3N0eWxlc2hlZXQvbGVzcyc7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gc3R5bGU7XHJcblxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0dmFyIGdldFN0eWxlcyA9IGZ1bmN0aW9uIGdldFN0eWxlcyhzdGF0ZSkge1xyXG5cclxuXHRcdFx0XHR2YXIgc3RhdGVzID0ge307XHJcblxyXG5cdFx0XHRcdC8vQ2hlY2sgc3RhdGUgZm9yIHN0eWxlc1xyXG5cdFx0XHRcdHdoaWxlIChzdGF0ZS5uYW1lICE9PSAnJykge1xyXG5cdFx0XHRcdFx0dmFyIHBhcmVudCA9ICRzdGF0ZS5nZXQoJ14nLCBzdGF0ZSk7XHJcblxyXG5cdFx0XHRcdFx0Ly9Jbml0aWF0ZSBvdXIgdmlldyBsaXN0XHJcblx0XHRcdFx0XHRpZiAoIXN0YXRlc1twYXJlbnQubmFtZV0pIHtcclxuXHRcdFx0XHRcdFx0c3RhdGVzW3BhcmVudC5uYW1lXSA9IHt9O1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vQ2hlY2sgdGhlIHRlbXBsYXRlU3R5bGVcclxuXHRcdFx0XHRcdGlmIChzdGF0ZS50ZW1wbGF0ZVN0eWxlVXJsKSB7XHJcblx0XHRcdFx0XHRcdGlmICghc3RhdGVzW3BhcmVudC5uYW1lXVsnJ10pIHtcclxuXHRcdFx0XHRcdFx0XHRzdGF0ZXNbcGFyZW50Lm5hbWVdWycnXSA9IGdldFN0eWxlKHN0YXRlLnRlbXBsYXRlU3R5bGVVcmwpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly9DaGVjayB2aWV3c1xyXG5cdFx0XHRcdFx0aWYgKHN0YXRlLnZpZXdzKSB7XHJcblx0XHRcdFx0XHRcdF8uZm9yRWFjaChzdGF0ZS52aWV3cywgZnVuY3Rpb24gKHZpZXcsIGtleSkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvL0NoZWNrIGlmIHdlIGhhdmUgYSBzdHlsZVxyXG5cdFx0XHRcdFx0XHRcdGlmICghdmlldy50ZW1wbGF0ZVN0eWxlVXJsKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHQvL0NoZWNrIGlmIHdlIGFyZSB0YXJnZXRpbmcgc29tZSBwYXJlbnRcclxuXHRcdFx0XHRcdFx0XHRpZiAoKGtleSA9IGtleS5zcGxpdCgnQCcpKVsxXSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly9DaGVjayBpZiB3ZSBoYXZlIHN0eWxlcyBmb3IgdGhhdCBwYXJlbnRcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghc3RhdGVzW2tleVsxXV0pIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0c3RhdGVzW2tleVsxXV0gPSB7fTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0XHQvL1BsYWNlIHRoZSBzdHlsZSBvbiBzb21lIHBhcmVudCdzIHZpZXdcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghc3RhdGVzW2tleVsxXV1ba2V5WzBdXSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRzdGF0ZXNba2V5WzFdXVtrZXlbMF1dID0gZ2V0U3R5bGUodmlldy50ZW1wbGF0ZVN0eWxlVXJsKTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHQvL1BsYWNlIHRoZSBzdHlsZSBvbiBvdXIgcGFyZW50J3Mgdmlld1xyXG5cdFx0XHRcdFx0XHRcdHN0YXRlc1twYXJlbnQubmFtZV1ba2V5WzBdXSA9IGdldFN0eWxlKHZpZXcudGVtcGxhdGVTdHlsZVVybCk7XHJcblxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvL0NvbnRpbnVlIHdpdGggdGhlIHBhcmVudFxyXG5cdFx0XHRcdFx0c3RhdGUgPSBwYXJlbnQ7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvL0ZsYXR0ZW4gdGhlIGxpc3RcclxuXHRcdFx0XHR2YXIgZmxhdCA9IFtdO1xyXG5cdFx0XHRcdF8uZm9yRWFjaChzdGF0ZXMsIGZ1bmN0aW9uICh2aWV3cykge1xyXG5cclxuXHRcdFx0XHRcdF8uZm9yRWFjaCh2aWV3cywgZnVuY3Rpb24gKHN0eWxlKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoIV8uaW5jbHVkZXMoZmxhdCwgc3R5bGUpKSB7XHJcblx0XHRcdFx0XHRcdFx0ZmxhdC5wdXNoKHN0eWxlKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly9SZXZlcnNlIGl0IHNvIHdlIGhhdmUgYSBwcm9wZXIgaGllcmFyY2h5XHJcblx0XHRcdFx0ZmxhdC5yZXZlcnNlKCk7XHJcblxyXG5cdFx0XHRcdHJldHVybiBmbGF0O1xyXG5cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0cmVzdHJpY3Q6ICdFJyxcclxuXHRcdFx0XHRsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW0pIHtcclxuXHJcblx0XHRcdFx0XHRzY29wZS50ZW1wbGF0ZVN0eWxlcyA9IFtdO1xyXG5cclxuXHRcdFx0XHRcdHZhciBodG1sID0gJzxsaW5rIG5nLWF0dHItcmVsPVwie3tzdHlsZS5yZWx9fVwiIG5nLXJlcGVhdD1cInN0eWxlIGluIHRlbXBsYXRlU3R5bGVzXCIgbmctaHJlZj1cInt7c3R5bGUuaHJlZn19XCI+JztcclxuXHJcblx0XHRcdFx0XHRodG1sID0gaHRtbC5yZXBsYWNlKC9cXHtcXHsvZywgJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCkpO1xyXG5cdFx0XHRcdFx0aHRtbCA9IGh0bWwucmVwbGFjZSgvXFx9XFx9L2csICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSk7XHJcblxyXG5cdFx0XHRcdFx0ZWxlbS5hcHBlbmQoJGNvbXBpbGUoaHRtbCkoc2NvcGUpKTtcclxuXHJcblx0XHRcdFx0XHQkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpIHtcclxuXHJcblx0XHRcdFx0XHRcdHNjb3BlLnRlbXBsYXRlU3R5bGVzID0gZ2V0U3R5bGVzKHRvU3RhdGUpO1xyXG5cclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblxyXG5cdFx0fVxyXG5cdF0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLnNlcnZpY2UoJ0NhdGVnb3JpZXNTdmMnLCBmdW5jdGlvbigkaHR0cCkge1xyXG5cclxuICB2YXIgc3ZjID0gdGhpcztcclxuXHJcbiAgc3ZjLmdldENhdGVnb3JpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NhdGVnb3JpZXMnKTtcclxuICB9O1xyXG5cclxuICBzdmMuZ2V0VGFza3MgPSBmdW5jdGlvbiAoY2F0ZWdvcnkpIHtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2F0ZWdvcmllcy8nICsgY2F0ZWdvcnkpO1xyXG4gIH07XHJcblxyXG4gIHN2Yy5hZGRDYXRlZ29yeSA9IGZ1bmN0aW9uIChjYXRlZ29yeSkge1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvY2F0ZWdvcmllcy8nLCBjYXRlZ29yeSk7XHJcbiAgfTtcclxuXHJcbiAgc3ZjLmFkZFRhc2sgPSBmdW5jdGlvbiAoY2F0ZWdvcnksIHRhc2spIHtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2NhdGVnb3JpZXMvJyArIGNhdGVnb3J5ICsgJy90YXNrcycsIHRhc2spO1xyXG4gIH07XHJcblxyXG4gIHN2Yy5zZXRQcmlvcml0eUxpc3QgPSBmdW5jdGlvbihsaXN0KSB7XHJcbiAgICBzdmMuY2hvaWNlcyA9IGxpc3Q7XHJcbiAgICBzdmMucHJpb3JpdHlMaXN0ID0gW107XHJcbiAgICAvL01ha2UgYSBuZXcgY2hvaWNlIGxpc3RcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICBmb3IgKHZhciBqID0gaSArIDE7IGogPCBsaXN0Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgdmFyIHJhbmRvbSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSk7XHJcbiAgICAgICAgc3ZjLnByaW9yaXR5TGlzdC5wdXNoKHtcclxuICAgICAgICAgIGlkOiAwLFxyXG4gICAgICAgICAgZmlyc3RDaG9pY2U6IGxpc3RbcmFuZG9tID09PSAwID8gaSA6IGpdLm5hbWUsXHJcbiAgICAgICAgICBzZWNvbmRDaG9pY2U6IGxpc3RbcmFuZG9tID09PSAwID8gaiA6IGldLm5hbWUsXHJcbiAgICAgICAgICBjaG9pY2U6ICcnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHNodWZmbGUoc3ZjLnByaW9yaXR5TGlzdCk7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN2Yy5wcmlvcml0eUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgc3ZjLnByaW9yaXR5TGlzdFtpXS5pZCA9IGkgKyAxO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHN2Yy5nZXRQcmlvcml0eUxpc3QgPSBmdW5jdGlvbihsaXN0KSB7XHJcbiAgICByZXR1cm4gc3ZjLnByaW9yaXR5TGlzdDtcclxuICB9O1xyXG5cclxuICBmdW5jdGlvbiBzaHVmZmxlKGFycmF5KSB7XHJcbiAgICB2YXIgbSA9IGFycmF5Lmxlbmd0aCwgdCwgaTtcclxuICAgIC8vIFdoaWxlIHRoZXJlIHJlbWFpbiBlbGVtZW50cyB0byBzaHVmZmxl4oCmXHJcbiAgICB3aGlsZSAobSkge1xyXG4gICAgICAvLyBQaWNrIGEgcmVtYWluaW5nIGVsZW1lbnTigKZcclxuICAgICAgaSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG0tLSk7XHJcbiAgICAgIC8vIEFuZCBzd2FwIGl0IHdpdGggdGhlIGN1cnJlbnQgZWxlbWVudC5cclxuICAgICAgYXJyYXlbbV0uZmlyc3RDaG9pY2U7XHJcbiAgICAgIHQgPSBhcnJheVttXTtcclxuICAgICAgYXJyYXlbbV0gPSBhcnJheVtpXTtcclxuICAgICAgYXJyYXlbaV0gPSB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFycmF5O1xyXG4gIH1cclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLnNlcnZpY2UoJ0VtYWlsU3ZjJywgZnVuY3Rpb24oJGh0dHApIHtcclxuXHJcbiAgdmFyIHN2YyA9IHRoaXM7XHJcblxyXG4gIHN2Yy5zZW5kID0gZnVuY3Rpb24gKGVtYWlsKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlbWFpbCk7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9lbWFpbCcsIGVtYWlsKTtcclxuICB9O1xyXG5cclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uc2VydmljZSgnTGFuZ3VhZ2VTdmMnLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgdmFyIHN2YyA9IHRoaXM7XHJcblxyXG4gIHN2Yy5sYW5ndWFnZXMgPSBbXHJcbiAgICB7XHJcbiAgICAgIFwiY29kZVwiOiBcIkVOXCIsXHJcbiAgICAgIFwibmFtZVwiOiBcIkVuZ2xpc2hcIixcclxuICAgICAgXCJmbGFnXCI6IFwiZmxhZy1pY29uLWdiXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwiY29kZVwiOiBcIk5MXCIsXHJcbiAgICAgIFwibmFtZVwiOiBcIk5lZGVybGFuZHNcIixcclxuICAgICAgXCJmbGFnXCI6IFwiZmxhZy1pY29uLW5sXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwiY29kZVwiOiBcIkZSXCIsXHJcbiAgICAgIFwibmFtZVwiOiBcIkZyYW7Dp2Fpc1wiLFxyXG4gICAgICBcImZsYWdcIjogXCJmbGFnLWljb24tZnJcIlxyXG4gICAgfVxyXG4gIF07XHJcblxyXG4gIHN2Yy50ZXh0ID0gW1xyXG4gICAge1xyXG4gICAgICBcImNvZGVcIjogXCJFTlwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcImNvZGVcIjogXCJOTFwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcImNvZGVcIjogXCJGUlwiXHJcbiAgICB9XHJcbiAgXTtcclxuXHJcbiAgc3ZjLnNlbGVjdGVkTGFuZ3VhZ2UgPSBzdmMubGFuZ3VhZ2VzWzBdO1xyXG5cclxuICBzdmMuc2V0TGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ3VhZ2UpIHtcclxuICAgIHN2Yy5zZWxlY3RlZExhbmd1YWdlID0gbGFuZ3VhZ2U7XHJcbiAgICByZXR1cm4gbGFuZ3VhZ2U7XHJcbiAgfTtcclxuXHJcbiAgc3ZjLmdldExhbmd1YWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHN2Yy5zZWxlY3RlZExhbmd1YWdlO1xyXG4gIH07XHJcblxyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5zZXJ2aWNlKCdQb3N0c1N2YycsIGZ1bmN0aW9uKCRodHRwKSB7XHJcblxyXG4gIHZhciBzdmMgPSB0aGlzO1xyXG5cclxuICBzdmMuZmV0Y2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Bvc3RzJyk7XHJcbiAgfTtcclxuXHJcbiAgc3ZjLmNyZWF0ZSA9IGZ1bmN0aW9uIChwb3N0KSB7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9wb3N0cycsIHBvc3QpO1xyXG4gIH07XHJcblxyXG4gIHN2Yy5nZXRQb3N0ID0gZnVuY3Rpb24gKHBvc3QpIHtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcG9zdHMvJyArIHBvc3QuX2lkKTtcclxuICB9O1xyXG5cclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uc2VydmljZSgnVXNlclN2YycsIGZ1bmN0aW9uKCRodHRwKSB7XHJcblxyXG4gIHZhciBzdmMgPSB0aGlzO1xyXG5cclxuICBzdmMuZ2V0VXNlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMnKTtcclxuICB9O1xyXG5cclxuICBzdmMuc2V0VG9rZW4gPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXSA9IHRva2VuO1xyXG4gICAgcmV0dXJuIHN2Yy5nZXRVc2VyKCk7XHJcbiAgfTtcclxuXHJcbiAgc3ZjLmF1dGhlbnRpY2F0ZSA9IGZ1bmN0aW9uICh1c2VyKSB7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2Vycy9hdXRoZW50aWNhdGUnLCB7XHJcbiAgICAgIHVzZXI6IHVzZXJcclxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UudG9rZW4gPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICByZXR1cm4gc3ZjLnNldFRva2VuKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgc3ZjLmxvZ2luID0gZnVuY3Rpb24gKHVzZXIpIHtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvJyArIHVzZXIgKyAnL2xvZ2luJylcclxuICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnRva2VuID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgcmV0dXJuIHN2Yy5zZXRUb2tlbihyZXNwb25zZS5kYXRhKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHN2Yy51cGRhdGVVc2VyID0gZnVuY3Rpb24gKHVzZXIpIHtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzLycgKyB1c2VyLl9pZCwge1xyXG4gICAgICB1c2VyOiB1c2VyXHJcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIHN2Yy5nZXRVc2VyKCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBzdmMuY2hlY2tQYXNzd29yZCA9IGZ1bmN0aW9uICh1c2VyLCBwYXNzd29yZCkge1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMvJyArIHVzZXIgKyAnL3ZlcmlmaWNhdGlvbicsIHtcclxuICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBzdmMuY2hhbmdlUGFzc3dvcmQgPSBmdW5jdGlvbiAodXNlciwgb2xkUGFzc3dvcmQsIG5ld1Bhc3N3b3JkKSB7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2Vycy8nICsgdXNlciArICcvcGFzc3dvcmQnLCB7XHJcbiAgICAgIG9sZFBhc3N3b3JkOiBvbGRQYXNzd29yZCxcclxuICAgICAgbmV3UGFzc3dvcmQgOiBuZXdQYXNzd29yZFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgc3ZjLmNoYW5nZVVzZXJuYW1lID0gZnVuY3Rpb24gKHVzZXIsIG5ld1VzZXJuYW1lKSB7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2Vycy8nICsgdXNlciArICcvdXNlcm5hbWUnLCB7XHJcbiAgICAgIG5ld1VzZXJuYW1lOiBuZXdVc2VybmFtZVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgc3ZjLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UuY2xlYXIoKTtcclxuICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXSA9ICcnO1xyXG4gIH07XHJcblxyXG4gIHN2Yy5jcmVhdGVVc2VyID0gZnVuY3Rpb24gKHVzZXJuYW1lLCBwYXNzd29yZCkge1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMnLCB7XHJcbiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcclxuICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkXHJcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIHN2Yy5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbn0pO1xyXG4iXX0=
